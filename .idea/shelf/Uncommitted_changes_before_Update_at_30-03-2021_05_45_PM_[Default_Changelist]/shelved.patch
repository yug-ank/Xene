Index: xinihostel/src/main/java/com/xenecompany/xinihostel/ChatPersonal.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.xenecompany.xinihostel;\r\n\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.google.firebase.database.ChildEventListener;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.squareup.picasso.Picasso;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class ChatPersonal extends AppCompatActivity {\r\n//    private EditText messagebox;\r\n    EditText message;\r\n    ImageView send;\r\n    TextView nameOfHostel;\r\n    ImageView profilePic;\r\n    String name ,profilePicture ,messageId;\r\n    ArrayList<chat_object> chat;\r\n    RecyclerView recyclerView;\r\n    DatabaseReference db;\r\n    chatPersonalAdapter adapter;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_chat_personal);\r\n\r\n        message = findViewById(R.id.activityChatPersonal_editText);\r\n        nameOfHostel = findViewById(R.id.activityChatPersonal_name);\r\n        profilePic = findViewById(R.id.activityChatPersonal_profilePicture);\r\n        send = findViewById(R.id.activityChatPersonal_send);\r\n        recyclerView = findViewById(R.id.activityChatPersonal_recyclerView);\r\n\r\n        db = FirebaseDatabase.getInstance().getReference().child(\"chatrooms\").child(getIntent().getStringExtra(\"chatroom\"));\r\n        name = getIntent().getStringExtra(\"name\");\r\n        profilePicture = getIntent().getStringExtra(\"profilePicture\");\r\n        nameOfHostel.setText(name);\r\n        if(!profilePicture.isEmpty())\r\n            Picasso.get().load(profilePicture).into(profilePic);\r\n        Log.i(\"yash\", \"came1 \");\r\n        initializeMessages();\r\n        getMessages();\r\n    }\r\n\r\n    private void getMessages() {\r\n        Log.i(\"yash\", \"came9 \");\r\n        DatabaseReference db1 = db;\r\n        Log.i(\"yash\", \"came10 \");\r\n        db1.addChildEventListener(new ChildEventListener() {\r\n            @Override\r\n            public void onChildAdded(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\r\n                if(snapshot.exists()){\r\n                    Log.i(\"yash\", snapshot.child(\"text\").getValue().toString());\r\n                    chat.add(new chat_object(snapshot.child(\"text\").getValue().toString(), snapshot.child(\"time\").getValue().toString(), snapshot.child(\"sender\").getValue().toString()));\r\n                    Log.i(\"yash\", \"came12 \");\r\n                    adapter.notifyDataSetChanged();\r\n                    Log.i(\"yash\", \"came13 \");\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onChildChanged(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onChildRemoved(@NonNull DataSnapshot snapshot) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onChildMoved(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    private void initializeMessages() {\r\n        chat = new ArrayList<>();\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this, RecyclerView.VERTICAL,false));\r\n        recyclerView.setHasFixedSize(false);\r\n        Log.i(\"yash\", \"came2 \");\r\n        adapter = new chatPersonalAdapter(chat , this);\r\n        Log.i(\"yash\", \"came3 \");\r\n        recyclerView.setAdapter(adapter);\r\n        Log.i(\"yash\", \"came4 \");\r\n    }\r\n\r\n    public void sendMessage(View view) {\r\n        messageId = db.push().getKey();\r\n        DatabaseReference db1 = db.child(messageId);\r\n        Map object = new HashMap<>();\r\n        if(!message.getText().toString().isEmpty())\r\n            object.put(\"text\", message.getText().toString());\r\n        object.put(\"sender\", \"H\");\r\n        object.put(\"time\", \"time\");\r\n        db1.updateChildren(object);\r\n        message.setText(null);\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- xinihostel/src/main/java/com/xenecompany/xinihostel/ChatPersonal.java	(revision 2781681c019f8358465829a394ff3ad360dca92c)
+++ xinihostel/src/main/java/com/xenecompany/xinihostel/ChatPersonal.java	(date 1617106241693)
@@ -20,7 +20,9 @@
 import com.google.firebase.database.FirebaseDatabase;
 import com.squareup.picasso.Picasso;
 
+import java.text.SimpleDateFormat;
 import java.util.ArrayList;
+import java.util.Date;
 import java.util.HashMap;
 import java.util.Map;
 
@@ -71,6 +73,7 @@
                     Log.i("yash", "came12 ");
                     adapter.notifyDataSetChanged();
                     Log.i("yash", "came13 ");
+                    recyclerView.smoothScrollToPosition(chat.size()-1);
                 }
             }
 
@@ -104,6 +107,7 @@
         adapter = new chatPersonalAdapter(chat , this);
         Log.i("yash", "came3 ");
         recyclerView.setAdapter(adapter);
+//        recyclerView.smoothScrollToPosition(chat.size()-1);
         Log.i("yash", "came4 ");
     }
 
@@ -113,8 +117,10 @@
         Map object = new HashMap<>();
         if(!message.getText().toString().isEmpty())
             object.put("text", message.getText().toString());
+        SimpleDateFormat sdf = new SimpleDateFormat("yyyy.MM.dd G 'at' HH:mm:ss z");
+        String currentDateandTime = sdf.format(new Date());
         object.put("sender", "H");
-        object.put("time", "time");
+        object.put("time", currentDateandTime);
         db1.updateChildren(object);
         message.setText(null);
     }
Index: xinihostel/src/main/res/layout/text_view.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    android:id=\"@+id/sendMessageLinearLayout\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"wrap_content\"\r\n    android:gravity=\"right\"\r\n    android:orientation=\"vertical\"/>\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- xinihostel/src/main/res/layout/text_view.xml	(revision 2781681c019f8358465829a394ff3ad360dca92c)
+++ xinihostel/src/main/res/layout/text_view.xml	(date 1617101952607)
@@ -4,6 +4,5 @@
     xmlns:app="http://schemas.android.com/apk/res-auto"
     android:layout_width="match_parent"
     android:layout_height="wrap_content"
-    android:gravity="right"
     android:orientation="vertical"/>
 

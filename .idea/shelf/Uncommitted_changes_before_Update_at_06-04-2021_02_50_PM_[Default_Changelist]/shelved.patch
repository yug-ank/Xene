Index: xiniStudent/src/main/java/com/xenecompany/xene/chatAll.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.xenecompany.xene;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\n\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\nimport com.google.firebase.firestore.DocumentReference;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.EventListener;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.FirebaseFirestoreException;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class chatAll extends AppCompatActivity {\r\n    ArrayList<ChatObject> chatList;\r\n    RecyclerView recyclerView;\r\n    public  chat_all_adapter adapter;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_chat_all);\r\n        recyclerView = (RecyclerView) findViewById(R.id.activityChatAll_recyclerView);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n        recyclerView.setHasFixedSize(false);\r\n        getCHatList();\r\n        adapter = new chat_all_adapter(chatList , this);\r\n        recyclerView.setAdapter(adapter);\r\n    }\r\n\r\n    void getCHatList(){\r\n        chatList = new ArrayList<>();\r\n        DatabaseReference db = FirebaseDatabase.getInstance().getReference().child(\"user\").child(FirebaseAuth.getInstance().getCurrentUser().getPhoneNumber());\r\n        db.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                if(snapshot.exists()){\r\n                    Log.i(\"data snaphot exist\", FirebaseAuth.getInstance().getCurrentUser().getPhoneNumber());\r\n                    for(DataSnapshot childrens : snapshot.getChildren()){\r\n                        String temp = \"\";\r\n                        for(DataSnapshot chatroom : childrens.child(\"chatroomId\").getChildren())\r\n                            temp = chatroom.getKey();\r\n                        final ChatObject obj = new ChatObject( temp , childrens.child(\"hostelNo\").getValue().toString());\r\n                        DocumentReference db = FirebaseFirestore.getInstance().collection(\"Hostels\").document(obj.getHostelNo());\r\n                        FirebaseFirestore.getInstance().collection(\"Hostels\").document(obj.getHostelNo()).addSnapshotListener(new EventListener<DocumentSnapshot>() {\r\n                            @Override\r\n                            public void onEvent(@Nullable DocumentSnapshot value, @Nullable FirebaseFirestoreException error) {\r\n                                if(value.exists()){\r\n                                    obj.setHostelName(value.get(\"hostelName\").toString());\r\n                                    obj.setProfilePicture(value.get(\"profilePicture\").toString());\r\n                                    chatList.add(obj);\r\n                                    adapter.notifyDataSetChanged();\r\n                                }\r\n                            }\r\n                        });\r\n\r\n                    }\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- xiniStudent/src/main/java/com/xenecompany/xene/chatAll.java	(revision 249281c63f10a2d157fdacc7d76276cc06e08733)
+++ xiniStudent/src/main/java/com/xenecompany/xene/chatAll.java	(date 1617700108603)
@@ -1,14 +1,15 @@
+
 package com.xenecompany.xene;
 
+import android.os.Bundle;
+import android.util.Log;
+
 import androidx.annotation.NonNull;
 import androidx.annotation.Nullable;
 import androidx.appcompat.app.AppCompatActivity;
 import androidx.recyclerview.widget.LinearLayoutManager;
 import androidx.recyclerview.widget.RecyclerView;
 
-import android.os.Bundle;
-import android.util.Log;
-
 import com.google.firebase.auth.FirebaseAuth;
 import com.google.firebase.database.DataSnapshot;
 import com.google.firebase.database.DatabaseError;
@@ -24,7 +25,7 @@
 import java.util.ArrayList;
 
 public class chatAll extends AppCompatActivity {
-    ArrayList<ChatObject> chatList;
+    ArrayList<userObject> chatList;
     RecyclerView recyclerView;
     public  chat_all_adapter adapter;
     @Override
@@ -46,12 +47,32 @@
             @Override
             public void onDataChange(@NonNull DataSnapshot snapshot) {
                 if(snapshot.exists()){
-                    Log.i("data snaphot exist", FirebaseAuth.getInstance().getCurrentUser().getPhoneNumber());
                     for(DataSnapshot childrens : snapshot.getChildren()){
+                        if(childrens.getKey().toString().charAt(0) == 's') continue;
                         String temp = "";
                         for(DataSnapshot chatroom : childrens.child("chatroomId").getChildren())
                             temp = chatroom.getKey();
-                        final ChatObject obj = new ChatObject( temp , childrens.child("hostelNo").getValue().toString());
+                        final userObject obj = new userObject( temp , childrens.child("hostelNo").getValue().toString());
+                        // is the user online
+                        FirebaseDatabase.getInstance().getReference().child("hostel").child(obj.getHostelNo()).child("status")
+                                .addValueEventListener(new ValueEventListener() {
+                                    @Override
+                                    public void onDataChange(@NonNull DataSnapshot snapshot) {
+                                        if(snapshot.exists()){
+                                            obj.setIsOnline((Boolean) snapshot.getValue());
+                                            Log.i("rectify", obj.getIsOnline()+"");
+                                            adapter.notifyDataSetChanged();
+                                        }
+                                    }
+
+                                    @Override
+                                    public void onCancelled(@NonNull DatabaseError error) {
+
+                                    }
+                                });
+
+                        //is the user online
+
                         DocumentReference db = FirebaseFirestore.getInstance().collection("Hostels").document(obj.getHostelNo());
                         FirebaseFirestore.getInstance().collection("Hostels").document(obj.getHostelNo()).addSnapshotListener(new EventListener<DocumentSnapshot>() {
                             @Override
Index: xinihostel/src/main/java/com/xenecompany/xinihostel/studentDetails.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.xenecompany.xinihostel;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.EventListener;\r\nimport com.google.firebase.firestore.FieldValue;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.FirebaseFirestoreException;\r\nimport com.squareup.picasso.Callback;\r\nimport com.squareup.picasso.Picasso;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\npublic class studentDetails extends AppCompatActivity {\r\n    ImageView studentDetailImage;\r\n    TextView studentDetailDescription;\r\n    ImageView studentAadharCard;\r\n    ImageView studentInstituteCard;\r\n    FloatingActionButton startchat;\r\n    Button book_button;\r\n    Button wishlist_button;\r\n    Button cancel_button;\r\n    SessionManager sessionManager;\r\n    HashMap<String , String> sessionData;\r\n    EditText profileName;\r\n    EditText editdetailEmail;\r\n    EditText editdetailPhoneNumber;\r\n    EditText editdetailAdharNumber;\r\n    EditText editdetailInstituteName;\r\n    EditText editdetailInstituteAddress;\r\n    EditText editdetailInstituteIDNumber;\r\n    EditText editdetailGuardianName;\r\n    EditText editdetailGuardianContact;\r\n    EditText editdetailGuardianAddress;\r\n    @Override\r\n    protected void onCreate(final Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_student_details);\r\n        studentDetailImage=(ImageView)findViewById(R.id.studentDetailImage);\r\n        startchat = findViewById(R.id.layoutPgPictures_startchat);\r\n        profileName=(EditText)findViewById(R.id.profileName);\r\n        editdetailEmail=(EditText)findViewById(R.id.editdetailEmail);\r\n        editdetailPhoneNumber=(EditText)findViewById(R.id.editdetailPhoneNumber);\r\n        editdetailAdharNumber=(EditText)findViewById(R.id.editdetailAdharNumber);\r\n        editdetailInstituteName=(EditText)findViewById(R.id.editdetailInstituteName);\r\n        editdetailInstituteAddress=(EditText)findViewById(R.id.editdetailInstituteAddress);\r\n        editdetailInstituteIDNumber=(EditText)findViewById(R.id.editdetailInstituteIDNumber);\r\n        editdetailGuardianName=(EditText)findViewById(R.id.editdetailGuardianName);\r\n        editdetailGuardianContact=(EditText)findViewById(R.id.editdetailGuardianContact);\r\n        editdetailGuardianAddress=(EditText)findViewById(R.id.editdetailGuardianAddress);\r\n        studentAadharCard=(ImageView)findViewById(R.id.studentAadharCard);\r\n        studentInstituteCard=(ImageView)findViewById(R.id.studentInstituteCard);\r\n        sessionManager= new SessionManager(studentDetails.this);\r\n        sessionData=sessionManager.getUserDetailFromSession();\r\n        final String ItemId= getIntent().getStringExtra(\"ItemId\");\r\n        final String token=getIntent().getStringExtra(\"token\");\r\n        Log.i(\"rectify\" , \"\"+token);\r\n        final FirebaseFirestore db=FirebaseFirestore.getInstance();\r\n        db.collection(\"Student\").document(ItemId).addSnapshotListener(new EventListener<DocumentSnapshot>() {\r\n            @Override\r\n            public void onEvent(@Nullable DocumentSnapshot value, @Nullable FirebaseFirestoreException error) {\r\n                if(value.exists()){\r\n                     if(value.get(\"profilePicture\").toString().length()>0){\r\n                         Picasso.get().load(value.get(\"profilePicture\").toString()).noFade().fit().into(studentDetailImage, new Callback() {\r\n                             @Override\r\n                             public void onSuccess() {\r\n\r\n                             }\r\n\r\n                             @Override\r\n                             public void onError(Exception e) {\r\n                                 Toast.makeText(studentDetails.this , \"\"+e , Toast.LENGTH_LONG).show();\r\n                             }\r\n                         });\r\n                     }\r\n                }\r\n                else{\r\n                    Picasso.get().load(R.drawable.ic_male_avatr).noFade().fit()\r\n                            .into(studentDetailImage);\r\n                }\r\n                if(value.get(\"aadharId\").toString().length()>0){\r\n                    Picasso.get().load(value.get(\"aadharId\").toString()).noFade().fit().into(studentAadharCard, new Callback() {\r\n                        @Override\r\n                        public void onSuccess() {\r\n\r\n                        }\r\n\r\n                        @Override\r\n                        public void onError(Exception e) {\r\n                            Toast.makeText(studentDetails.this , \"\"+e , Toast.LENGTH_LONG).show();\r\n                        }\r\n                    });\r\n                }\r\n                else{\r\n                Picasso.get().load(R.drawable.ic_male_avatr).noFade().fit()\r\n                        .into(studentAadharCard);\r\n            }\r\n                if(value.get(\"instituteIdCard\").toString().length()>0){\r\n                    Picasso.get().load(value.get(\"instituteIdCard\").toString()).noFade().fit().into(studentInstituteCard, new Callback() {\r\n                        @Override\r\n                        public void onSuccess() {\r\n\r\n                        }\r\n\r\n                        @Override\r\n                        public void onError(Exception e) {\r\n                            Toast.makeText(studentDetails.this , \"\"+e , Toast.LENGTH_LONG).show();\r\n                        }\r\n                    });\r\n                }\r\n                else{\r\n                Picasso.get().load(R.drawable.ic_male_avatr).noFade().fit()\r\n                        .into(studentInstituteCard);\r\n            }\r\n                String data=\"\";\r\n                if(value.get(\"name\").toString().trim().length()>0){\r\n                    profileName.setText(value.get(\"name\").toString());\r\n                }\r\n                if(value.get(\"email\").toString().trim().length()>0){\r\n                    editdetailEmail.setText(value.get(\"email\").toString());\r\n                }\r\n                if(value.get(\"phoneNo\").toString().trim().length()>0){\r\n                    editdetailPhoneNumber.setText(value.get(\"phoneNo\").toString());\r\n                }\r\n                if(value.get(\"aadharNo\").toString().trim().length()>0){\r\n                    editdetailAdharNumber.setText(value.get(\"aadharNo\").toString());\r\n                }\r\n                if(value.get(\"instituteName\").toString().trim().length()>0){\r\n                    editdetailInstituteName.setText(value.get(\"instituteName\").toString());\r\n                }\r\n                if(value.get(\"instituteAddress\").toString().trim().length()>0){\r\n                    editdetailInstituteAddress.setText(value.get(\"instituteAddress\").toString());\r\n                }\r\n                if(value.get(\"instituteId\").toString().trim().length()>0){\r\n                    editdetailInstituteIDNumber.setText(value.get(\"instituteId\").toString());\r\n                }\r\n                if(value.get(\"gaurdianName\").toString().trim().length()>0){\r\n                    editdetailGuardianName.setText(value.get(\"gaurdianName\").toString());\r\n                }\r\n                if(value.get(\"gaurdianContactNo\").toString().trim().length()>0){\r\n                    editdetailGuardianContact.setText(value.get(\"gaurdianContactNo\").toString());\r\n                }\r\n                if(value.get(\"gaurdianAddress\").toString().trim().length()>0){\r\n                    editdetailGuardianAddress.setText(value.get(\"gaurdianAddress\").toString());\r\n                }\r\n            }\r\n        });\r\n\r\n        ///wishlist buttons code\r\n        wishlist_button=(Button) findViewById(R.id.wishlist_button);\r\n        db.collection(\"Hostels\").document(\"+91\" + sessionData.get(SessionManager.Key_Phone_no)).addSnapshotListener(new EventListener<DocumentSnapshot>() {\r\n            @Override\r\n            public void onEvent(@Nullable DocumentSnapshot value, @Nullable FirebaseFirestoreException error) {\r\n                if(value.exists()){\r\n                    List<String> wishlist= (List<String>) value.get(\"wishlist\");\r\n                    if(wishlist.size()!=0 && wishlist.contains(ItemId)){\r\n                        wishlist_button.setText(\"REMOVE FROM WISHLIST\");\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        wishlist_button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if(wishlist_button.getText().toString().equals(\"ADD TO WISHLIST\")) {\r\n                    db.collection(\"Hostels\").document(\"+91\" + sessionData.get(SessionManager.Key_Phone_no))\r\n                            .update(\"wishlist\", FieldValue.arrayUnion(ItemId)).addOnSuccessListener(new OnSuccessListener<Void>() {\r\n                        @Override\r\n                        public void onSuccess(Void aVoid) {\r\n                            Toast.makeText(studentDetails.this, \"Successfully added to wishlist\", Toast.LENGTH_SHORT).show();\r\n                            wishlist_button.setText(\"REMOVE FROM WISHLIST\");\r\n                        }\r\n                    });\r\n                }\r\n                else{\r\n                    db.collection(\"Hostels\").document(\"+91\" + sessionData.get(SessionManager.Key_Phone_no))\r\n                            .update(\"wishlist\", FieldValue.arrayRemove(ItemId)).addOnSuccessListener(new OnSuccessListener<Void>() {\r\n                        @Override\r\n                        public void onSuccess(Void aVoid) {\r\n                            Toast.makeText(studentDetails.this, \"Successfully removed from wishlist\", Toast.LENGTH_SHORT).show();\r\n                            wishlist_button.setText(\"ADD TO WISHLIST\");\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        });\r\n        ///wishlist buttons code\r\n\r\n        ///book button code\r\n        book_button=(Button) findViewById(R.id.button_accept);\r\n        cancel_button=(Button) findViewById(R.id.button_reject);\r\n        db.collection(\"Hostels\").document(\"+91\" + sessionData.get(SessionManager.Key_Phone_no)).addSnapshotListener(new EventListener<DocumentSnapshot>() {\r\n            @Override\r\n            public void onEvent(@Nullable DocumentSnapshot value, @Nullable FirebaseFirestoreException error) {\r\n                if(value.exists()){\r\n                    List<String> wishlist= (List<String>) value.get(\"requested\");\r\n                    if(wishlist.contains(ItemId)){\r\n                        book_button.setText(\"ACCEPT REQUEST\");\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        db.collection(\"Hostels\").document(\"+91\" + sessionData.get(SessionManager.Key_Phone_no)).addSnapshotListener(new EventListener<DocumentSnapshot>() {\r\n            @Override\r\n            public void onEvent(@Nullable DocumentSnapshot value, @Nullable FirebaseFirestoreException error) {\r\n                if(value.exists()){\r\n                    List<String> wishlist= (List<String>) value.get(\"accepted\");\r\n                    if(wishlist.contains(ItemId)){\r\n                        book_button.setText(\"REMOVE CONNECTION\");\r\n                        startchat.setVisibility(View.VISIBLE);\r\n                        cancel_button.setText(\"SEND MESSAGE\");\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n        book_button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if(book_button.getText().toString().equals(\"ACCEPT REQUEST\")) {\r\n                    db.collection(\"Hostels\").document(\"+91\" + sessionData.get(SessionManager.Key_Phone_no))\r\n                            .update(\"accepted\", FieldValue.arrayUnion(ItemId));\r\n                    db.collection(\"Student\").document(ItemId).\r\n                            update(\"accepted\" , FieldValue.arrayUnion(\"+91\" + sessionData.get(SessionManager.Key_Phone_no)));\r\n                    db.collection(\"Hostels\").document(\"+91\" + sessionData.get(SessionManager.Key_Phone_no))\r\n                            .update(\"requested\", FieldValue.arrayRemove(ItemId));\r\n                    db.collection(\"Student\").document(ItemId).\r\n                            update(\"requested\" , FieldValue.arrayRemove(\"+91\" + sessionData.get(SessionManager.Key_Phone_no)));\r\n                    book_button.setText(\"REMOVE CONNECTION\");\r\n                     String title=\"Accepted your request\";\r\n                    String message=\"A hostel has accepted your request.\\nNow you can contact the hostel\";\r\n                    new NotificationSend(token , message ,title);\r\n                }\r\n                else if(book_button.getText().equals(\"REMOVE CONNECTION\")){\r\n                    db.collection(\"Hostels\").document(\"+91\" + sessionData.get(SessionManager.Key_Phone_no))\r\n                            .update(\"accepted\", FieldValue.arrayRemove(ItemId));\r\n                    db.collection(\"Student\").document(ItemId)\r\n                            .update(\"accepted\", FieldValue.arrayRemove(\"+91\" + sessionData.get(SessionManager.Key_Phone_no)));\r\n                    Toast.makeText(studentDetails.this, \"Press back to get to homepage\", Toast.LENGTH_SHORT).show();\r\n                    book_button.setVisibility(View.GONE);\r\n                    wishlist_button.setVisibility(View.GONE);\r\n                    cancel_button.setVisibility(View.GONE);\r\n                    startchat.setVisibility(View.GONE);\r\n\r\n                    /// stop chat of that person\r\n                    DatabaseReference flag = FirebaseDatabase.getInstance().getReference().child(\"chatrooms\").child(ItemId+\"+91\"+sessionData.get(SessionManager.Key_Phone_no)).child(ItemId+\"+91\"+sessionData.get(SessionManager.Key_Phone_no)).child(\"text\");\r\n                    flag.addValueEventListener(new ValueEventListener() {\r\n                        @Override\r\n                        public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                            if(snapshot.exists()){\r\n                                flag.setValue(false);\r\n                            }\r\n                        }\r\n\r\n                        @Override\r\n                        public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                        }\r\n                    });\r\n                    /// stop chat of that person\r\n                }\r\n            }\r\n        });\r\n        cancel_button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if(cancel_button.getText().toString().equals(\"CANCEL REQUEST\")){\r\n                    db.collection(\"Hostels\").document(\"+91\" + sessionData.get(SessionManager.Key_Phone_no))\r\n                            .update(\"requested\", FieldValue.arrayRemove(ItemId));\r\n                    db.collection(\"Student\").document(ItemId).\r\n                            update(\"requested\" , FieldValue.arrayRemove(\"+91\" + sessionData.get(SessionManager.Key_Phone_no)));\r\n                    Toast.makeText(studentDetails.this, \"Press back to get to homepage\", Toast.LENGTH_SHORT).show();\r\n                    book_button.setEnabled(false);\r\n                    cancel_button.setEnabled(false);\r\n                    wishlist_button.setEnabled(false);\r\n                }\r\n            }\r\n        });\r\n        ///book button code\r\n\r\n        ///startchat code\r\n        startchat.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                String studentMobNo = getIntent().getStringExtra(\"ItemId\");\r\n                String currentHostelOwnerMobNo = FirebaseAuth.getInstance().getCurrentUser().getPhoneNumber();\r\n                DatabaseReference db0 = FirebaseDatabase.getInstance().getReference(\"hostel\\n\"+currentHostelOwnerMobNo+\"\\n\"+studentMobNo);\r\n                DatabaseReference db1 = db0.child(\"chatroomId\");\r\n//                String chatroomId = db1.push().getKey();\r\n                String chatroomId = studentMobNo+currentHostelOwnerMobNo;\r\n                Map obj = new HashMap<>();\r\n                obj.put(chatroomId, true);\r\n                db1.updateChildren(obj);\r\n                obj.clear();\r\n                obj.put(\"userNumber\", studentMobNo);\r\n                db0.updateChildren(obj);\r\n                obj.clear();\r\n\r\n                db0 = FirebaseDatabase.getInstance().getReference().child(\"user\").child(studentMobNo).child(currentHostelOwnerMobNo);\r\n                db1 = db0.child(\"chatroomId\");\r\n                obj.put(chatroomId, true);\r\n                db1.updateChildren(obj);\r\n                obj.clear();\r\n                obj.put(\"hostelNo\", currentHostelOwnerMobNo);\r\n                db0.updateChildren(obj);\r\n                obj.clear();\r\n\r\n                db0 = FirebaseDatabase.getInstance().getReference().child(\"chatrooms\").child(chatroomId);\r\n//                String msgId = db0.push().getKey();\r\n                String msgId = chatroomId;\r\n                db1 = db0.child(msgId);\r\n                obj.put(\"sender\", \"z\");\r\n                obj.put(\"text\", true);\r\n                obj.put(\"time\", \"time\");\r\n                db1.updateChildren(obj);\r\n\r\n\r\n                FirebaseFirestore.getInstance().collection(\"Student\").document(studentMobNo).addSnapshotListener(new EventListener<DocumentSnapshot>() {\r\n                    @Override\r\n                    public void onEvent(@Nullable DocumentSnapshot value, @Nullable FirebaseFirestoreException error) {\r\n                        if(value.exists()){\r\n                            Intent intent = new Intent(v.getContext(), ChatPersonal.class);\r\n                            intent.putExtra(\"name\" , value.get(\"name\").toString());\r\n                            intent.putExtra(\"profilePicture\", value.get(\"profilePicture\").toString());\r\n                            intent.putExtra(\"chatroom\", chatroomId);\r\n                            v.getContext().startActivity(intent);\r\n                        }\r\n                    }\r\n                });\r\n                /*else {\r\n                    db0.child(\"chatroomId\").addChildEventListener(new ChildEventListener() {\r\n                        @Override\r\n                        public void onChildAdded(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\r\n                            if (snapshot.exists()) {\r\n                                String chatroomId = snapshot.getKey();\r\n                                FirebaseFirestore.getInstance().collection(\"Student\").document(studentMobNo).addSnapshotListener(new EventListener<DocumentSnapshot>() {\r\n                                    @Override\r\n                                    public void onEvent(@Nullable DocumentSnapshot value, @Nullable FirebaseFirestoreException error) {\r\n                                        if(value.exists()){\r\n                                            Intent intent = new Intent(v.getContext(), ChatPersonal.class);\r\n                                            intent.putExtra(\"name\" , value.get(\"name\").toString());\r\n                                            intent.putExtra(\"profilePicture\", value.get(\"profilePicture\").toString());\r\n                                            intent.putExtra(\"chatroom\", chatroomId);\r\n                                            v.getContext().startActivity(intent);\r\n                                        }\r\n                                    }\r\n                                });\r\n                            }\r\n                        }\r\n\r\n                        @Override\r\n                        public void onChildChanged(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\r\n\r\n                        }\r\n\r\n                        @Override\r\n                        public void onChildRemoved(@NonNull DataSnapshot snapshot) {\r\n\r\n                        }\r\n\r\n                        @Override\r\n                        public void onChildMoved(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\r\n\r\n                        }\r\n\r\n                        @Override\r\n                        public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                        }\r\n                    });\r\n                }*/\r\n\r\n            }\r\n        });\r\n        ///startchat code\r\n\r\n\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- xinihostel/src/main/java/com/xenecompany/xinihostel/studentDetails.java	(revision 249281c63f10a2d157fdacc7d76276cc06e08733)
+++ xinihostel/src/main/java/com/xenecompany/xinihostel/studentDetails.java	(date 1617622049716)
@@ -10,6 +10,10 @@
 import android.widget.TextView;
 import android.widget.Toast;
 
+import androidx.annotation.NonNull;
+import androidx.annotation.Nullable;
+import androidx.appcompat.app.AppCompatActivity;
+
 import com.google.android.gms.tasks.OnSuccessListener;
 import com.google.android.material.floatingactionbutton.FloatingActionButton;
 import com.google.firebase.auth.FirebaseAuth;
@@ -30,10 +34,6 @@
 import java.util.List;
 import java.util.Map;
 
-import androidx.annotation.NonNull;
-import androidx.annotation.Nullable;
-import androidx.appcompat.app.AppCompatActivity;
-
 public class studentDetails extends AppCompatActivity {
     ImageView studentDetailImage;
     TextView studentDetailDescription;
@@ -335,6 +335,7 @@
                 obj.put("sender", "z");
                 obj.put("text", true);
                 obj.put("time", "time");
+                obj.put("seen", false);
                 db1.updateChildren(obj);
 
 
Index: xiniStudent/src/main/java/com/xenecompany/xene/ChatPersonal.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.xenecompany.xene;\r\n\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.google.firebase.database.ChildEventListener;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.squareup.picasso.Picasso;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class ChatPersonal extends AppCompatActivity {\r\n    private EditText messagebox;\r\n    EditText message;\r\n    ImageView send;\r\n    TextView nameOfHostel;\r\n    ImageView profilePic;\r\n    String name ,profilePicture ,messageId;\r\n    ArrayList<chat_object> chat;\r\n    RecyclerView recyclerView;\r\n    DatabaseReference db;\r\n    chatPersonalAdapter adapter;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_chat_personal);\r\n        message = findViewById(R.id.activityChatPersonal_editText);\r\n        nameOfHostel = findViewById(R.id.activityChatPersonal_name);\r\n        profilePic = findViewById(R.id.activityChatPersonal_profilePicture);\r\n        send = findViewById(R.id.activityChatPersonal_send);\r\n        recyclerView = findViewById(R.id.activityChatPersonal_recyclerView);\r\n        db = FirebaseDatabase.getInstance().getReference().child(\"chatrooms\").child(getIntent().getStringExtra(\"chatroom\"));\r\n        name = getIntent().getStringExtra(\"name\");\r\n        profilePicture = getIntent().getStringExtra(\"profilePicture\");\r\n        nameOfHostel.setText(name);\r\n        Picasso.get().load(profilePicture).into(profilePic);\r\n        Log.i(\"yash\", \"came1 \");\r\n        initializeMessages();\r\n        getMessages();\r\n    }\r\n\r\n    private void getMessages() {\r\n        Log.i(\"yash\", \"came9 \");\r\n        DatabaseReference db1 = db;\r\n        Log.i(\"yash\", \"came10 \");\r\n        db1.addChildEventListener(new ChildEventListener() {\r\n            @Override\r\n            public void onChildAdded(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\r\n                if(snapshot.exists()){\r\n                    Log.i(\"yash\", snapshot.child(\"text\").getValue().toString());\r\n                    chat.add(new chat_object(snapshot.child(\"text\").getValue().toString(), snapshot.child(\"time\").getValue().toString(), snapshot.child(\"sender\").getValue().toString()));\r\n                    Log.i(\"yash\", \"came12 \");\r\n                    adapter.notifyDataSetChanged();\r\n                    Log.i(\"yash\", \"came13 \");\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onChildChanged(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onChildRemoved(@NonNull DataSnapshot snapshot) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onChildMoved(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    private void initializeMessages() {\r\n        chat = new ArrayList<>();\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this, LinearLayoutManager.VERTICAL,false));\r\n        recyclerView.setHasFixedSize(false);\r\n        Log.i(\"yash\", \"came2 \");\r\n        adapter = new chatPersonalAdapter(chat , this);\r\n        Log.i(\"yash\", \"came3 \");\r\n        recyclerView.setAdapter(adapter);\r\n        Log.i(\"yash\", \"came4 \");\r\n    }\r\n\r\n    public void sendMessage(View view) {\r\n        messageId = db.push().getKey();\r\n        DatabaseReference db1 = db.child(messageId);\r\n        Map object = new HashMap<>();\r\n        if(!message.getText().toString().isEmpty())\r\n            object.put(\"text\", message.getText().toString());\r\n        object.put(\"sender\", \"U\");\r\n        object.put(\"time\", \"time\");\r\n        db1.updateChildren(object);\r\n        message.setText(null);\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- xiniStudent/src/main/java/com/xenecompany/xene/ChatPersonal.java	(revision 249281c63f10a2d157fdacc7d76276cc06e08733)
+++ xiniStudent/src/main/java/com/xenecompany/xene/ChatPersonal.java	(date 1617647893268)
@@ -56,18 +56,19 @@
     }
 
     private void getMessages() {
-        Log.i("yash", "came9 ");
         DatabaseReference db1 = db;
-        Log.i("yash", "came10 ");
+        Map<String , Object> temp = new HashMap<>();
+        temp.put("seen", true);
         db1.addChildEventListener(new ChildEventListener() {
             @Override
             public void onChildAdded(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {
                 if(snapshot.exists()){
-                    Log.i("yash", snapshot.child("text").getValue().toString());
-                    chat.add(new chat_object(snapshot.child("text").getValue().toString(), snapshot.child("time").getValue().toString(), snapshot.child("sender").getValue().toString()));
-                    Log.i("yash", "came12 ");
+                    chat.add(
+                            new chat_object(snapshot.child("text").getValue().toString()
+                                    , snapshot.child("time").getValue().toString()
+                                    , snapshot.child("sender").getValue().toString()
+                                    , (Boolean) snapshot.child("seen").getValue()));
                     adapter.notifyDataSetChanged();
-                    Log.i("yash", "came13 ");
                 }
             }
 
@@ -97,11 +98,8 @@
         chat = new ArrayList<>();
         recyclerView.setLayoutManager(new LinearLayoutManager(this, LinearLayoutManager.VERTICAL,false));
         recyclerView.setHasFixedSize(false);
-        Log.i("yash", "came2 ");
         adapter = new chatPersonalAdapter(chat , this);
-        Log.i("yash", "came3 ");
         recyclerView.setAdapter(adapter);
-        Log.i("yash", "came4 ");
     }
 
     public void sendMessage(View view) {
@@ -111,6 +109,7 @@
         if(!message.getText().toString().isEmpty())
             object.put("text", message.getText().toString());
         object.put("sender", "U");
+        object.put("seen", false);
         object.put("time", "time");
         db1.updateChildren(object);
         message.setText(null);
Index: xinihostel/src/main/java/com/xenecompany/xinihostel/chatPersonalAdapter.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.xenecompany.xinihostel;\r\n\r\nimport android.content.Context;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\n\r\nimport java.util.ArrayList;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.constraintlayout.widget.ConstraintLayout;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\npublic class chatPersonalAdapter extends RecyclerView.Adapter<chatPersonalAdapter.viewHolder> {\r\n    ArrayList<chat_object> chat;\r\n    Context context;\r\n    int width;\r\n\r\n    public chatPersonalAdapter(ArrayList<chat_object> chat, Context context, int width) {\r\n        this.chat = chat;\r\n        this.context = context;\r\n        this.width = width;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public viewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.text_view, null);\r\n        ConstraintLayout.LayoutParams layoutParams = new ConstraintLayout.LayoutParams(width , ViewGroup.LayoutParams.WRAP_CONTENT);\r\n        layoutParams.setMargins(0 , 10 , 0  , 0);\r\n        view.setLayoutParams(layoutParams);\r\n        return new viewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull viewHolder holder, int position) {\r\n        if(chat.get(position).sender.equals(\"H\")){\r\n            Log.i(\"rectify\" , \"sent\");\r\n            holder.recievedMessageTextView.setVisibility(View.VISIBLE);\r\n            holder.recievedMessageTextView.setText(chat.get(position).getText());\r\n        }\r\n        if(chat.get(position).sender.equals(\"U\")) {\r\n            Log.i(\"rectify\" , \"received\");\r\n            holder.sentMessageTextView.setVisibility(View.VISIBLE);\r\n            holder.sentMessageTextView.setText(chat.get(position).getText());\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return chat.size();\r\n    }\r\n\r\n    @Override\r\n    public int getItemViewType(int position) {\r\n        return position;\r\n    }\r\n\r\n    @Override\r\n    public long getItemId(int position) {\r\n        return position;\r\n    }\r\n\r\n    public class viewHolder extends RecyclerView.ViewHolder {\r\n        private TextView sentMessageTextView;\r\n        private TextView recievedMessageTextView;\r\n        public viewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            sentMessageTextView=itemView.findViewById(R.id.chatSentMessageTextView);\r\n            recievedMessageTextView=itemView.findViewById(R.id.chatRecievedMessageTextView);\r\n        }\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- xinihostel/src/main/java/com/xenecompany/xinihostel/chatPersonalAdapter.java	(revision 249281c63f10a2d157fdacc7d76276cc06e08733)
+++ xinihostel/src/main/java/com/xenecompany/xinihostel/chatPersonalAdapter.java	(date 1617646572842)
@@ -1,18 +1,19 @@
 package com.xenecompany.xinihostel;
 
 import android.content.Context;
+import android.graphics.Color;
 import android.util.Log;
 import android.view.LayoutInflater;
 import android.view.View;
 import android.view.ViewGroup;
 import android.widget.TextView;
 
-import java.util.ArrayList;
-
 import androidx.annotation.NonNull;
 import androidx.constraintlayout.widget.ConstraintLayout;
 import androidx.recyclerview.widget.RecyclerView;
 
+import java.util.ArrayList;
+
 public class chatPersonalAdapter extends RecyclerView.Adapter<chatPersonalAdapter.viewHolder> {
     ArrayList<chat_object> chat;
     Context context;
@@ -40,6 +41,9 @@
             Log.i("rectify" , "sent");
             holder.recievedMessageTextView.setVisibility(View.VISIBLE);
             holder.recievedMessageTextView.setText(chat.get(position).getText());
+            if(chat.get(position).getSeen())
+                holder.recievedMessageTextView.setTextColor(Color.BLUE);
+
         }
         if(chat.get(position).sender.equals("U")) {
             Log.i("rectify" , "received");
Index: xinihostel/src/main/res/layout/activity_chat_all.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".chatAll\">\r\n\r\n    <androidx.appcompat.widget.Toolbar\r\n        android:id=\"@+id/toolbar2\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"60dp\"\r\n        android:background=\"@color/colorPrimary\"\r\n        android:backgroundTint=\"@color/colorPrimary\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/activityChatAll_textViewMessage\"\r\n        android:layout_width=\"0dp\"\r\n        android:layout_height=\"0dp\"\r\n        android:layout_marginStart=\"10dp\"\r\n        android:text=\"Messages\"\r\n        android:textSize=\"25dp\"\r\n        app:layout_constraintBottom_toBottomOf=\"@+id/toolbar2\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:layout_constraintHeight_default=\"percent\"\r\n        app:layout_constraintWidth_default=\"percent\"\r\n        app:layout_constraintHeight_percent=\"0.05\"\r\n        app:layout_constraintWidth_percent=\"0.5\"/>\r\n\r\n    <ImageView\r\n        android:id=\"@+id/activityChatAll_searchIcon\"\r\n        android:layout_width=\"0dp\"\r\n        android:layout_height=\"0dp\"\r\n        app:layout_constraintWidth_default=\"percent\"\r\n        app:layout_constraintHeight_default=\"percent\"\r\n        app:layout_constraintHeight_percent=\"0.06\"\r\n        app:layout_constraintWidth_percent=\"0.08\"\r\n        android:layout_marginEnd=\"16dp\"\r\n        android:src=\"@drawable/search\"\r\n        app:layout_constraintBottom_toBottomOf=\"@+id/toolbar2\"\r\n        app:layout_constraintEnd_toEndOf=\"@+id/toolbar2\"\r\n        app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n    <SearchView\r\n        android:id=\"@+id/activityChatAll_searchView\"\r\n        android:layout_width=\"0dp\"\r\n        android:layout_height=\"0dp\"\r\n        android:layout_marginEnd=\"16dp\"\r\n        android:src=\"@drawable/search\"\r\n        android:visibility=\"gone\"\r\n        app:layout_constraintStart_toStartOf=\"@id/toolbar2\"\r\n        app:layout_constraintBottom_toBottomOf=\"@+id/toolbar2\"\r\n        app:layout_constraintEnd_toEndOf=\"@+id/toolbar2\"\r\n        app:layout_constraintHeight_default=\"percent\"\r\n        app:layout_constraintHeight_percent=\"0.06\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:layout_constraintWidth_default=\"percent\"\r\n        app:layout_constraintWidth_percent=\"1.0\" />\r\n\r\n    <androidx.recyclerview.widget.RecyclerView\r\n        android:id=\"@+id/activityChatAll_recyclerView\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"0dp\"\r\n        android:padding=\"10dp\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"1.0\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/toolbar2\"\r\n        app:layout_constraintVertical_bias=\"0.0\" />\r\n\r\n\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- xinihostel/src/main/res/layout/activity_chat_all.xml	(revision 249281c63f10a2d157fdacc7d76276cc06e08733)
+++ xinihostel/src/main/res/layout/activity_chat_all.xml	(date 1617612129200)
@@ -59,7 +59,9 @@
         app:layout_constraintHeight_percent="0.06"
         app:layout_constraintTop_toTopOf="parent"
         app:layout_constraintWidth_default="percent"
-        app:layout_constraintWidth_percent="1.0" />
+        app:layout_constraintWidth_percent="1.0"
+        android:iconifiedByDefault="false"
+        />
 
     <androidx.recyclerview.widget.RecyclerView
         android:id="@+id/activityChatAll_recyclerView"
Index: xiniStudent/src/main/java/com/xenecompany/xene/chat_all_adapter.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.xenecompany.xene;\r\n\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.cardview.widget.CardView;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.squareup.picasso.Picasso;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class chat_all_adapter extends RecyclerView.Adapter<chat_all_adapter.viewHolder> {\r\n    private ArrayList<ChatObject> chatList;\r\n    private Context context;\r\n\r\n    public chat_all_adapter(ArrayList<ChatObject> chatList , Context context) {\r\n        this.chatList = chatList;\r\n        this.context = context;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public viewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.activity_chat_card_view, null);\r\n        return new viewHolder(view);\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull viewHolder holder, final int position) {\r\n        holder.name.setText(chatList.get(position).getHostelName());\r\n        Picasso.get().load(chatList.get(position).getProfilePicture()).into(holder.profilePic);\r\n        holder.cardView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent(v.getContext(), ChatPersonal.class);\r\n                intent.putExtra(\"name\", chatList.get(position).getHostelName());\r\n                intent.putExtra(\"profilePicture\", chatList.get(position).getProfilePicture());\r\n                intent.putExtra(\"chatroom\", chatList.get(position).getChatroomId());\r\n                context.startActivity(intent);\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return chatList.size();\r\n    }\r\n\r\n    public class viewHolder extends RecyclerView.ViewHolder {\r\n        private TextView name;\r\n        private ImageView profilePic;\r\n        private CardView cardView;\r\n        public viewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            name = itemView.findViewById(R.id.activityChatCard_name);\r\n            profilePic = itemView.findViewById(R.id.activityChatCard_profilePicture);\r\n            cardView = itemView.findViewById(R.id.activityChatCard_cardView);\r\n        }\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- xiniStudent/src/main/java/com/xenecompany/xene/chat_all_adapter.java	(revision 249281c63f10a2d157fdacc7d76276cc06e08733)
+++ xiniStudent/src/main/java/com/xenecompany/xene/chat_all_adapter.java	(date 1617654035775)
@@ -17,10 +17,10 @@
 import java.util.ArrayList;
 
 public class chat_all_adapter extends RecyclerView.Adapter<chat_all_adapter.viewHolder> {
-    private ArrayList<ChatObject> chatList;
+    private ArrayList<userObject> chatList;
     private Context context;
 
-    public chat_all_adapter(ArrayList<ChatObject> chatList , Context context) {
+    public chat_all_adapter(ArrayList<userObject> chatList , Context context) {
         this.chatList = chatList;
         this.context = context;
     }
Index: xiniStudent/src/main/java/com/xenecompany/xene/ChatObject.java
===================================================================
--- xiniStudent/src/main/java/com/xenecompany/xene/ChatObject.java	(revision 249281c63f10a2d157fdacc7d76276cc06e08733)
+++ xiniStudent/src/main/java/com/xenecompany/xene/ChatObject.java	(revision 249281c63f10a2d157fdacc7d76276cc06e08733)
@@ -1,23 +0,0 @@
-package com.xenecompany.xene;
-
-public class ChatObject {
-    private String chatroomId , hostelNo , profilePicture , hostelName;
-    public ChatObject(String chatroomId , String hostelNo){
-        this.chatroomId = chatroomId;
-        this.hostelNo = hostelNo;
-    }
-
-    public String getChatroomId() { return chatroomId; }
-
-    public String getHostelNo(){
-        return hostelNo;
-    }
-
-    public String getProfilePicture() { return profilePicture; }
-
-    public String getHostelName() { return hostelName; }
-
-    public void setHostelName(String hostelName){ this.hostelName = hostelName; }
-
-    public void setProfilePicture(String profilePicture){ this.profilePicture = profilePicture; }
-}
Index: xiniStudent/src/main/res/mipmap-anydpi-v26/ic_launcher.xml
===================================================================
--- xiniStudent/src/main/res/mipmap-anydpi-v26/ic_launcher.xml	(revision 249281c63f10a2d157fdacc7d76276cc06e08733)
+++ xiniStudent/src/main/res/mipmap-anydpi-v26/ic_launcher.xml	(revision 249281c63f10a2d157fdacc7d76276cc06e08733)
@@ -1,5 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<adaptive-icon xmlns:android="http://schemas.android.com/apk/res/android">
-    <background android:drawable="@drawable/ic_launcher_background" />
-    <foreground android:drawable="@drawable/ic_launcher_foreground" />
-</adaptive-icon>
\ No newline at end of file
Index: xinihostel/src/main/java/com/xenecompany/xinihostel/ChatPersonal.java
===================================================================
--- xinihostel/src/main/java/com/xenecompany/xinihostel/ChatPersonal.java	(revision 249281c63f10a2d157fdacc7d76276cc06e08733)
+++ xinihostel/src/main/java/com/xenecompany/xinihostel/ChatPersonal.java	(revision 249281c63f10a2d157fdacc7d76276cc06e08733)
@@ -1,152 +0,0 @@
-package com.xenecompany.xinihostel;
-
-import android.os.Bundle;
-import android.util.DisplayMetrics;
-import android.view.View;
-import android.widget.EditText;
-import android.widget.ImageView;
-import android.widget.TextView;
-
-import androidx.annotation.NonNull;
-import androidx.annotation.Nullable;
-import androidx.appcompat.app.AppCompatActivity;
-import androidx.appcompat.widget.Toolbar;
-import androidx.recyclerview.widget.LinearLayoutManager;
-import androidx.recyclerview.widget.RecyclerView;
-
-import com.google.firebase.database.ChildEventListener;
-import com.google.firebase.database.DataSnapshot;
-import com.google.firebase.database.DatabaseError;
-import com.google.firebase.database.DatabaseReference;
-import com.google.firebase.database.FirebaseDatabase;
-import com.google.firebase.database.ValueEventListener;
-import com.squareup.picasso.Picasso;
-
-import java.text.SimpleDateFormat;
-import java.util.ArrayList;
-import java.util.Date;
-import java.util.HashMap;
-import java.util.Map;
-
-import de.hdodenhof.circleimageview.CircleImageView;
-
-public class ChatPersonal extends AppCompatActivity {
-//    private EditText messagebox;
-    EditText message;
-    ImageView send;
-    TextView nameOfHostel;
-    CircleImageView profilePic;
-    String name ,profilePicture ,messageId;
-    ArrayList<chat_object> chat;
-    RecyclerView recyclerView;
-    DatabaseReference db;
-    chatPersonalAdapter adapter;
-    Toolbar toolbar;
-    int width;
-    @Override
-    protected void onCreate(Bundle savedInstanceState) {
-        super.onCreate(savedInstanceState);
-        setContentView(R.layout.activity_chat_personal);
-        DisplayMetrics displayMetrics= new DisplayMetrics();
-        getWindowManager().getDefaultDisplay().getMetrics(displayMetrics);
-        toolbar=(androidx.appcompat.widget.Toolbar)findViewById(R.id.activityChatPersonal_chatToolbar);
-        toolbar.inflateMenu(R.menu.chatmenuoptions);
-        width=displayMetrics.widthPixels;
-         message = findViewById(R.id.activityChatPersonal_editText);
-        nameOfHostel = findViewById(R.id.activityChatPersonal_name);
-        profilePic = findViewById(R.id.activityChatPersonal_profilePicture);
-         send = findViewById(R.id.activityChatPersonal_send);
-        recyclerView = findViewById(R.id.activityChatPersonal_recyclerView);
-
-        db = FirebaseDatabase.getInstance().getReference().child("chatrooms").child(getIntent().getStringExtra("chatroom"));
-        name = getIntent().getStringExtra("name");
-        profilePicture = getIntent().getStringExtra("profilePicture");
-        nameOfHostel.setText(name);
-        if(!profilePicture.isEmpty())
-            Picasso.get().load(profilePicture).into(profilePic);
-        initializeEditText();
-        initializeMessages();
-        getMessages();
-    }
-
-    private void initializeEditText() {
-        db.child(getIntent().getStringExtra("chatroom")).addValueEventListener(new ValueEventListener() {
-            @Override
-            public void onDataChange(@NonNull DataSnapshot snapshot) {
-                if (snapshot.exists()){
-                    if((Boolean) snapshot.child("text").getValue()){
-                        message.setEnabled(true);
-                        message.setVisibility(View.VISIBLE);
-                        send.setVisibility(View.VISIBLE);
-                    }
-                    else{
-                        findViewById(R.id.activityChatPersonal_flag).setEnabled(true);
-                    }
-                }
-            }
-
-            @Override
-            public void onCancelled(@NonNull DatabaseError error) {
-
-            }
-        });
-    }
-
-    private void getMessages() {
-        DatabaseReference db1 = db;
-        db1.addChildEventListener(new ChildEventListener() {
-            @Override
-            public void onChildAdded(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {
-                if(snapshot.exists()){
-                    chat.add(new chat_object(snapshot.child("text").getValue().toString(), snapshot.child("time").getValue().toString(), snapshot.child("sender").getValue().toString()));
-                    adapter.notifyDataSetChanged();
-                    recyclerView.smoothScrollToPosition(chat.size()-1);
-                }
-            }
-
-            @Override
-            public void onChildChanged(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {
-
-            }
-
-            @Override
-            public void onChildRemoved(@NonNull DataSnapshot snapshot) {
-
-            }
-
-            @Override
-            public void onChildMoved(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {
-
-            }
-
-            @Override
-            public void onCancelled(@NonNull DatabaseError error) {
-
-            }
-        });
-    }
-
-    private void initializeMessages() {
-        chat = new ArrayList<>();
-        LinearLayoutManager layoutManager = new LinearLayoutManager(this, RecyclerView.VERTICAL,false);
-        layoutManager.setStackFromEnd(true);
-        recyclerView.setLayoutManager(layoutManager);
-        recyclerView.setHasFixedSize(false);
-        adapter = new chatPersonalAdapter(chat , this , width);
-        recyclerView.setAdapter(adapter);
-    }
-
-    public void sendMessage(View view) {
-        messageId = db.push().getKey();
-        DatabaseReference db1 = db.child(messageId);
-        Map object = new HashMap<>();
-        if(!message.getText().toString().isEmpty())
-            object.put("text", message.getText().toString());
-        SimpleDateFormat sdf = new SimpleDateFormat("yyyy.MM.dd G 'at' HH:mm:ss z");
-        String currentDateandTime = sdf.format(new Date());
-        object.put("sender", "H");
-        object.put("time", currentDateandTime);
-        db1.updateChildren(object);
-        message.setText(null);
-    }
-}
\ No newline at end of file
Index: xinihostel/src/main/java/com/xenecompany/xinihostel/chat_object.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.xenecompany.xinihostel;\r\n\r\npublic class chat_object {\r\n    String text ,time ,sender;\r\n\r\n    public chat_object(String text ,String time ,String sender){\r\n        this.text = text;\r\n        this.sender = sender;\r\n        this.time = time;\r\n    }\r\n\r\n    String getText(){ return text;}\r\n    String getTime(){ return time;}\r\n    String getSender(){ return  sender;}\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- xinihostel/src/main/java/com/xenecompany/xinihostel/chat_object.java	(revision 249281c63f10a2d157fdacc7d76276cc06e08733)
+++ xinihostel/src/main/java/com/xenecompany/xinihostel/chat_object.java	(date 1617620250748)
@@ -2,14 +2,17 @@
 
 public class chat_object {
     String text ,time ,sender;
+    Boolean seen;
 
-    public chat_object(String text ,String time ,String sender){
+    public chat_object(String text ,String time ,String sender ,Boolean seen){
         this.text = text;
         this.sender = sender;
         this.time = time;
+        this.seen = seen;
     }
 
     String getText(){ return text;}
     String getTime(){ return time;}
     String getSender(){ return  sender;}
+    Boolean getSeen(){ return seen;}
 }
Index: xiniStudent/src/main/java/com/xenecompany/xene/HomePage.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.xenecompany.xene;\r\n\r\n\r\nimport android.app.Activity;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.util.DisplayMetrics;\r\nimport android.util.Log;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.widget.FrameLayout;\r\nimport android.widget.ProgressBar;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.ActionBarDrawerToggle;\r\nimport androidx.core.view.GravityCompat;\r\nimport androidx.drawerlayout.widget.DrawerLayout;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.google.android.material.navigation.NavigationView;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.EventListener;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.FirebaseFirestoreException;\r\nimport com.google.firebase.iid.FirebaseInstanceId;\r\nimport com.squareup.picasso.Callback;\r\nimport com.squareup.picasso.Picasso;\r\n\r\nimport java.util.HashMap;\r\n\r\nimport de.hdodenhof.circleimageview.CircleImageView;\r\n\r\n\r\npublic class HomePage extends Activity implements NavigationView.OnNavigationItemSelectedListener {\r\n\r\n    private androidx.appcompat.widget.Toolbar toolbar;\r\n    private RecyclerView parentRecyclerView;\r\n    private int width;\r\n    private ProgressBar progressBar;\r\n    private NavigationView navigationView;\r\n    private DrawerLayout drawer;\r\n    private TextView navigationName;\r\n    boolean doubleBackPressed=false;\r\n    private CircleImageView navigationImage;\r\n    HashMap<String , String> sessionData;\r\n    SessionManager sessionManager;\r\n    private TextView searchEditText;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_home_page_with_navigation_drawer);\r\n        sessionManager = new SessionManager(HomePage.this);\r\n        HashMap<String , String> userdata=sessionManager.getUserDetailFromSession();\r\n        progressBar = (ProgressBar)findViewById(R.id.homepageProgressBar);\r\n        navigationView = (NavigationView) findViewById(R.id.nav_view);\r\n        navigationView.setNavigationItemSelectedListener(this);\r\n\r\n        sessionData=sessionManager.getUserDetailFromSession();\r\n        ////////toolbar\r\n        toolbar = (androidx.appcompat.widget.Toolbar)findViewById(R.id.toolbar);\r\n        drawer = (DrawerLayout) findViewById(R.id.activityHomePageWithNavigation_drawer_layout);\r\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(this, drawer,toolbar, R.string.navigation_drawer_open, R.string.navigation_drawer_close);\r\n        drawer.addDrawerListener(toggle);\r\n        toggle.syncState();\r\n        toolbar.inflateMenu(R.menu.menu_main);\r\n        FrameLayout navigationLayout=(FrameLayout)toolbar.getMenu().findItem(R.id.toolbar_notification).getActionView();\r\n        NavigationView navigationView=findViewById(R.id.nav_view);\r\n        View headerLayout=navigationView.getHeaderView(0);\r\n        navigationLayout.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n               TextView textView=(TextView)view.findViewById(R.id.notificationCount);\r\n               textView.setText(\"0\");\r\n            }\r\n        });\r\n        navigationName=(TextView)headerLayout.findViewById(R.id.navigationName);\r\n        navigationImage=(CircleImageView)headerLayout.findViewById(R.id.navigationImage);\r\n        FirebaseFirestore db=FirebaseFirestore.getInstance();\r\n        db.collection(\"Student\").document(\"+91\"+sessionData.get(SessionManager.Key_Phone_no)).addSnapshotListener(\r\n                new EventListener<DocumentSnapshot>() {\r\n                    @Override\r\n                    public void onEvent(@Nullable DocumentSnapshot value, @Nullable FirebaseFirestoreException error) {\r\n                        if(value.exists()){\r\n                            if(value.get(\"name\").toString().trim().length()>0){\r\n                                navigationName.setText(value.get(\"name\").toString());\r\n                            }\r\n                            if(value.get(\"profilePicture\").toString().trim().length()>0) {\r\n                                Picasso.get().load(value.get(\"profilePicture\").toString()).noFade().into(navigationImage, new Callback() {\r\n                                    @Override\r\n                                    public void onSuccess() {\r\n\r\n                                    }\r\n\r\n                                    @Override\r\n                                    public void onError(Exception e) {\r\n                                        Toast.makeText(HomePage.this, \"\" + e, Toast.LENGTH_SHORT).show();\r\n                                    }\r\n                                });\r\n                            }\r\n                            else{\r\n                                navigationImage.setImageResource(R.drawable.ic_male_avatr);\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n        navigationImage.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent=new Intent(HomePage.this , profile.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n        FrameLayout wishlistLayout=(FrameLayout)toolbar.getMenu().findItem(R.id.toolbar_wishlist).getActionView();\r\n        wishlistLayout.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent=new Intent(HomePage.this , wishlist.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n        FrameLayout messageLayout=(FrameLayout)toolbar.getMenu().findItem(R.id.toolbar_message).getActionView();\r\n        messageLayout.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                TextView textView=(TextView)view.findViewById(R.id.messageCount);\r\n                textView.setText(\"0\");\r\n                startActivity(new Intent(view.getContext(), chatAll.class));\r\n            }\r\n        });\r\n        ////////toolbar\r\n\r\n        ////////////parent recycler view\r\n        DisplayMetrics displayMetrics= new DisplayMetrics();\r\n        getWindowManager().getDefaultDisplay().getMetrics(displayMetrics);\r\n        width=displayMetrics.widthPixels;\r\n        parentRecyclerView =(RecyclerView)findViewById(R.id.homePageParentRecyclerView);\r\n        LinearLayoutManager linearLayoutManager=new LinearLayoutManager(this);\r\n        linearLayoutManager.setOrientation(RecyclerView.VERTICAL);\r\n        parentRecyclerView.setLayoutManager(linearLayoutManager);\r\n        parentRecyclerView.setHasFixedSize(true);\r\n        homePageParentRecyclerView homePageParentRecyclerViewAdapter =new homePageParentRecyclerView(this , width , progressBar);\r\n        homePageParentRecyclerViewAdapter.notifyDataSetChanged();\r\n        parentRecyclerView.setAdapter(homePageParentRecyclerViewAdapter);\r\n        ////////////parent recycler view\r\n\r\n        ///token updation\r\n        String token= FirebaseInstanceId.getInstance().getToken();\r\n        db.collection(\"Student\").document(\"+91\"+sessionData.get(SessionManager.Key_Phone_no)).update(\"token\" , token);\r\n        ///token updation\r\n\r\n\r\n        searchEditText = findViewById(R.id.search_input);\r\n        Log.e(null, \"before search activity\");\r\n        searchEditText.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Log.e(null, \"before search activity\");\r\n                startActivity(new Intent(v.getContext(), search_page.class));\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n        switch (item.getItemId()){\r\n            case R.id.myDeals: {\r\n                Toast.makeText(this, \"My Deals selected\", Toast.LENGTH_LONG).show();\r\n                startActivity(new Intent(this , my_deals.class));\r\n                break;\r\n            }\r\n            case R.id.help: {\r\n                Toast.makeText(this, \"Help selected\", Toast.LENGTH_LONG).show();\r\n                startActivity(new Intent(this , faq.class));\r\n                break;\r\n            }\r\n            case R.id.activityMainDrawer_signOut : {\r\n                Toast.makeText(this, \"Sign-Out selected\", Toast.LENGTH_LONG).show();\r\n                FirebaseAuth.getInstance().signOut();\r\n                sessionManager.logOutUser();\r\n                startActivity(new Intent(this,Loginpage.class).setFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK|Intent.FLAG_ACTIVITY_NEW_TASK));\r\n                break;\r\n            }\r\n            case R.id.about_us :\r\n            {\r\n                Toast.makeText(this, \"About Us selected\", Toast.LENGTH_LONG).show();\r\n                startActivity(new Intent(this , About_Us.class));\r\n                break;\r\n            }\r\n            case R.id.Contact_Us : {\r\n                Toast.makeText(this, \"Contact Us selected\", Toast.LENGTH_LONG).show();\r\n                startActivity(new Intent(this , contact_us.class));\r\n                break;\r\n            }\r\n\r\n        }\r\n        drawer.closeDrawer(GravityCompat.START);\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n             if(doubleBackPressed){\r\n                    finish();\r\n                    moveTaskToBack(true);\r\n             }\r\n             doubleBackPressed=true;\r\n            Toast.makeText(this , \"Please Click back again to exit\" , Toast.LENGTH_SHORT).show();\r\n            new Handler().postDelayed(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                doubleBackPressed=false;\r\n                }\r\n                } , 2000);\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- xiniStudent/src/main/java/com/xenecompany/xene/HomePage.java	(revision 249281c63f10a2d157fdacc7d76276cc06e08733)
+++ xiniStudent/src/main/java/com/xenecompany/xene/HomePage.java	(date 1617618379356)
@@ -24,6 +24,7 @@
 
 import com.google.android.material.navigation.NavigationView;
 import com.google.firebase.auth.FirebaseAuth;
+import com.google.firebase.database.FirebaseDatabase;
 import com.google.firebase.firestore.DocumentSnapshot;
 import com.google.firebase.firestore.EventListener;
 import com.google.firebase.firestore.FirebaseFirestore;
@@ -33,6 +34,7 @@
 import com.squareup.picasso.Picasso;
 
 import java.util.HashMap;
+import java.util.Map;
 
 import de.hdodenhof.circleimageview.CircleImageView;
 
@@ -218,4 +220,24 @@
                 }
                 } , 2000);
     }
+
+    @Override
+    protected void onResume() {
+        super.onResume();
+        Map<String , Object> status = new HashMap<>();
+        status.put("status", true);
+        FirebaseDatabase.getInstance().getReference().child("user")
+                .child("+91"+sessionData.get(SessionManager.Key_Phone_no))
+                .updateChildren(status);
+    }
+
+    @Override
+    protected void onPause() {
+        super.onPause();
+        Map<String , Object> status = new HashMap<>();
+        status.put("status", false);
+        FirebaseDatabase.getInstance().getReference().child("user")
+                .child("+91"+sessionData.get(SessionManager.Key_Phone_no))
+                .updateChildren(status);
+    }
 }
\ No newline at end of file
Index: xinihostel/src/main/java/com/xenecompany/xinihostel/chat_all_adapter.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.xenecompany.xinihostel;\r\n\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.cardview.widget.CardView;\r\nimport androidx.constraintlayout.widget.ConstraintLayout;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.squareup.picasso.Picasso;\r\n\r\nimport java.util.ArrayList;\r\n\r\nimport de.hdodenhof.circleimageview.CircleImageView;\r\n\r\npublic class chat_all_adapter extends RecyclerView.Adapter<chat_all_adapter.viewHolder> {\r\n    private ArrayList<userObject> chatList;\r\n    private Context context;\r\n    private int width;\r\n    private int height;\r\n\r\n    public chat_all_adapter(ArrayList<userObject> chatList, Context context, int width, int height) {\r\n        this.chatList = chatList;\r\n        this.context = context;\r\n        this.width = width;\r\n        this.height = height;\r\n    }\r\n\r\n    public void filteredList(ArrayList<userObject> filterList){\r\n        this.chatList = filterList;\r\n        notifyDataSetChanged();\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public viewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.activity_chat_card_view, null);\r\n        ConstraintLayout.LayoutParams layoutParams = new ConstraintLayout.LayoutParams(width , height/10);\r\n        view.setLayoutParams(layoutParams);\r\n        return new viewHolder(view);\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull viewHolder holder, final int position) {\r\n        holder.name.setText(chatList.get(position).getUserName());\r\n        if(!chatList.get(position).getProfilePicture().isEmpty())\r\n            Picasso.get().load(chatList.get(position).getProfilePicture()).into(holder.profilePic);\r\n        holder.cardView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent(v.getContext(), ChatPersonal.class);\r\n                intent.putExtra(\"name\", chatList.get(position).getUserName());\r\n                intent.putExtra(\"profilePicture\", chatList.get(position).getProfilePicture());\r\n                intent.putExtra(\"chatroom\", chatList.get(position).getChatroomId());\r\n                context.startActivity(intent);\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return chatList.size();\r\n    }\r\n\r\n    public class viewHolder extends RecyclerView.ViewHolder {\r\n        private TextView name;\r\n        private CircleImageView profilePic;\r\n        private CardView cardView;\r\n        public viewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            name = itemView.findViewById(R.id.activityChatCard_name);\r\n            profilePic = itemView.findViewById(R.id.activityChatCard_profilePicture);\r\n            cardView = itemView.findViewById(R.id.activityChatCard_cardView);\r\n        }\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- xinihostel/src/main/java/com/xenecompany/xinihostel/chat_all_adapter.java	(revision 249281c63f10a2d157fdacc7d76276cc06e08733)
+++ xinihostel/src/main/java/com/xenecompany/xinihostel/chat_all_adapter.java	(date 1617617979909)
@@ -5,6 +5,7 @@
 import android.view.LayoutInflater;
 import android.view.View;
 import android.view.ViewGroup;
+import android.widget.ImageView;
 import android.widget.TextView;
 
 import androidx.annotation.NonNull;
@@ -49,6 +50,11 @@
     @Override
     public void onBindViewHolder(@NonNull viewHolder holder, final int position) {
         holder.name.setText(chatList.get(position).getUserName());
+        if(chatList.get(position).getIsOnline())
+            holder.isOnline.setImageResource(R.drawable.darkcircle);
+        else
+            holder.isOnline.setImageResource(R.drawable.redcircle);
+
         if(!chatList.get(position).getProfilePicture().isEmpty())
             Picasso.get().load(chatList.get(position).getProfilePicture()).into(holder.profilePic);
         holder.cardView.setOnClickListener(new View.OnClickListener() {
@@ -74,11 +80,13 @@
         private TextView name;
         private CircleImageView profilePic;
         private CardView cardView;
+        private ImageView isOnline;
         public viewHolder(@NonNull View itemView) {
             super(itemView);
             name = itemView.findViewById(R.id.activityChatCard_name);
             profilePic = itemView.findViewById(R.id.activityChatCard_profilePicture);
             cardView = itemView.findViewById(R.id.activityChatCard_cardView);
+            isOnline = itemView.findViewById(R.id.chatCardView_isOnline);
         }
     }
 }
Index: xinihostel/src/main/res/layout/activity_chat_card_view.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.cardview.widget.CardView xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    android:id=\"@+id/activityChatCard_cardView\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"80dp\"\r\n    android:backgroundTint=\"#f6f6f6\">\r\n<androidx.constraintlayout.widget.ConstraintLayout\r\n    android:id=\"@+id/activityChatCard_constraintLayout\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".chatCardView\">\r\n\r\n    <de.hdodenhof.circleimageview.CircleImageView\r\n        android:id=\"@+id/activityChatCard_profilePicture\"\r\n        android:layout_width=\"0dp\"\r\n        android:layout_height=\"0dp\"\r\n        android:layout_marginStart=\"10dp\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:srcCompat=\"@drawable/ic_male_avatr\"\r\n        app:layout_constraintWidth_default=\"percent\"\r\n        app:layout_constraintHeight_default=\"percent\"\r\n        app:layout_constraintHeight_percent=\"0.6\"\r\n        app:layout_constraintWidth_percent=\"0.14\"/>\r\n\r\n    <TextView\r\n        android:id=\"@+id/activityChatCard_name\"\r\n        android:layout_width='0dp'\r\n        android:layout_height=\"0dp\"\r\n        android:layout_marginStart=\"20dp\"\r\n        android:layout_marginTop=\"8dp\"\r\n        android:hint=\"NAME\"\r\n        android:textColor=\"@color/colorPrimaryDark\"\r\n        android:textSize=\"20dp\"\r\n        android:textStyle=\"bold\"\r\n        app:layout_constraintStart_toEndOf=\"@+id/activityChatCard_profilePicture\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:layout_constraintHeight_default=\"percent\"\r\n        app:layout_constraintWidth_default=\"percent\"\r\n        app:layout_constraintHeight_percent=\"0.3\"\r\n        app:layout_constraintWidth_percent=\"0.2\"\r\n        />\r\n\r\n    <TextView\r\n        android:id=\"@+id/textView20\"\r\n        android:layout_width=\"0dp\"\r\n        android:layout_height=\"0dp\"\r\n        android:layout_marginStart=\"20dp\"\r\n        android:layout_marginTop=\"5dp\"\r\n        android:hint=\"most rescent message\"\r\n        android:textColor=\"@color/secondary\"\r\n        android:textSize=\"13dp\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintStart_toEndOf=\"@+id/activityChatCard_profilePicture\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/activityChatCard_name\"\r\n        app:layout_constraintVertical_bias=\"0.324\"\r\n        app:layout_constraintHeight_default=\"percent\"\r\n        app:layout_constraintWidth_default=\"percent\"\r\n        app:layout_constraintHeight_percent=\"0.25\"\r\n        app:layout_constraintWidth_percent=\"0.5\"/>\r\n\r\n    <ImageView\r\n        android:id=\"@+id/imageView14\"\r\n        android:layout_width=\"0dp\"\r\n        android:layout_height=\"0dp\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHeight_default=\"percent\"\r\n        app:layout_constraintHeight_percent=\"0.3\"\r\n        app:layout_constraintHorizontal_bias=\"1.0\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:layout_constraintWidth_default=\"percent\"\r\n        app:layout_constraintWidth_percent=\"0.3\"\r\n        app:srcCompat=\"@drawable/darkcircle\" />\r\n</androidx.constraintlayout.widget.ConstraintLayout>\r\n</androidx.cardview.widget.CardView>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- xinihostel/src/main/res/layout/activity_chat_card_view.xml	(revision 249281c63f10a2d157fdacc7d76276cc06e08733)
+++ xinihostel/src/main/res/layout/activity_chat_card_view.xml	(date 1617617856189)
@@ -63,7 +63,7 @@
         app:layout_constraintWidth_percent="0.5"/>
 
     <ImageView
-        android:id="@+id/imageView14"
+        android:id="@+id/chatCardView_isOnline"
         android:layout_width="0dp"
         android:layout_height="0dp"
         app:layout_constraintBottom_toBottomOf="parent"
@@ -75,6 +75,6 @@
         app:layout_constraintTop_toTopOf="parent"
         app:layout_constraintWidth_default="percent"
         app:layout_constraintWidth_percent="0.3"
-        app:srcCompat="@drawable/darkcircle" />
+        app:srcCompat="@drawable/redcircle" />
 </androidx.constraintlayout.widget.ConstraintLayout>
 </androidx.cardview.widget.CardView>
\ No newline at end of file
Index: xinihostel/src/main/java/com/xenecompany/xinihostel/chatAll.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.xenecompany.xinihostel;\r\n\r\nimport android.os.Bundle;\r\nimport android.util.DisplayMetrics;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.ImageView;\r\nimport android.widget.SearchView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.EventListener;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.FirebaseFirestoreException;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Objects;\r\n\r\npublic class chatAll extends AppCompatActivity {\r\n    ArrayList<userObject> chatList;\r\n    RecyclerView recyclerView;\r\n    ImageView searchIcon;\r\n    SearchView searchView;\r\n    public  chat_all_adapter adapter;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_chat_all);\r\n        searchIcon = findViewById(R.id.activityChatAll_searchIcon);\r\n        searchView = findViewById(R.id.activityChatAll_searchView);\r\n        recyclerView = (RecyclerView) findViewById(R.id.activityChatAll_recyclerView);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n        recyclerView.setHasFixedSize(false);\r\n        DisplayMetrics displayMetrics= new DisplayMetrics();\r\n        getWindowManager().getDefaultDisplay().getMetrics(displayMetrics);\r\n        int width=displayMetrics.widthPixels;\r\n        int height=displayMetrics.heightPixels;\r\n        getCHatList();\r\n        adapter = new chat_all_adapter(chatList , this , width , height);\r\n        recyclerView.setAdapter(adapter);\r\n\r\n        ///search\r\n        searchIcon.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                searchIcon.setVisibility(View.GONE);\r\n                findViewById(R.id.activityChatAll_textViewMessage).setVisibility(View.GONE);\r\n                searchView.setVisibility(View.VISIBLE);\r\n                searchView.setIconifiedByDefault(false);\r\n                searchView.requestFocus();\r\n                Log.i(\"yash\", searchView.isInEditMode()+\"\");\r\n            }\r\n        });\r\n\r\n        searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\r\n            @Override\r\n            public boolean onQueryTextSubmit(String query) {\r\n                return false;\r\n            }\r\n\r\n            @Override\r\n            public boolean onQueryTextChange(String newText) {\r\n                filter(newText);\r\n                return false;\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n    private void filter(String newText) {\r\n        ArrayList<userObject> filterList = new ArrayList<>();\r\n        for(userObject temp : chatList){\r\n            if(temp.getUserName().toLowerCase().contains(newText.toLowerCase()))\r\n                filterList.add(temp);\r\n        }\r\n        adapter.filteredList(filterList);\r\n    }\r\n\r\n\r\n    void getCHatList(){\r\n        chatList = new ArrayList<>();\r\n//        Log.i(\"mob no\", FirebaseAuth.getInstance().getCurrentUser().getPhoneNumber());\r\n        DatabaseReference db = FirebaseDatabase.getInstance().getReference().child(\"hostel\").child(Objects.requireNonNull(FirebaseAuth.getInstance().getCurrentUser().getPhoneNumber()));\r\n//        DatabaseReference db = FirebaseDatabase.getInstance().getReference().child(\"hostel\").child(\"917339703405\");\r\n        db.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                if(snapshot.exists()){\r\n//                    Log.i(\"data snaphot exist\", FirebaseAuth.getInstance().getCurrentUser().getPhoneNumber());\r\n                    for(DataSnapshot childrens : snapshot.getChildren()){\r\n                        String temp = \"\";\r\n                        for(DataSnapshot chatroom : childrens.child(\"chatroomId\").getChildren())\r\n                            temp = chatroom.getKey();\r\n                        final userObject obj = new userObject( temp , childrens.child(\"userNumber\").getValue().toString());\r\n                    Log.i(\"chatroom and number \",obj.getChatroomId()+\" \"+obj.getUserNo());\r\n//                        DocumentReference db = FirebaseFirestore.getInstance().collection(\"Student\").document(obj.getUserNo());\r\n                        FirebaseFirestore.getInstance().collection(\"Student\").document(obj.getUserNo()).addSnapshotListener(new EventListener<DocumentSnapshot>() {\r\n                            @Override\r\n                            public void onEvent(@Nullable DocumentSnapshot value, @Nullable FirebaseFirestoreException error) {\r\n                                if(value.exists()){\r\n                                    if(value.get(\"name\") != null)\r\n                                        obj.setUserName(value.get(\"name\").toString());\r\n                                    if(value.get(\"profilePicture\") != null)\r\n                                        obj.setProfilePicture(value.get(\"profilePicture\").toString());\r\n                                    Log.i(\"name\", obj.getUserName()+\" \"+obj.getProfilePicture());\r\n                                    chatList.add(obj);\r\n                                    adapter.notifyDataSetChanged();\r\n                                }\r\n                            }\r\n                        });\r\n\r\n                    }\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- xinihostel/src/main/java/com/xenecompany/xinihostel/chatAll.java	(revision 249281c63f10a2d157fdacc7d76276cc06e08733)
+++ xinihostel/src/main/java/com/xenecompany/xinihostel/chatAll.java	(date 1617653072808)
@@ -57,9 +57,6 @@
                 searchIcon.setVisibility(View.GONE);
                 findViewById(R.id.activityChatAll_textViewMessage).setVisibility(View.GONE);
                 searchView.setVisibility(View.VISIBLE);
-                searchView.setIconifiedByDefault(false);
-                searchView.requestFocus();
-                Log.i("yash", searchView.isInEditMode()+"");
             }
         });
 
@@ -76,6 +73,15 @@
             }
         });
 
+        searchView.setOnCloseListener(new SearchView.OnCloseListener() {
+            @Override
+            public boolean onClose() {
+                searchView.setVisibility(View.GONE);
+                searchIcon.setVisibility(View.VISIBLE);
+                findViewById(R.id.activityChatAll_textViewMessage).setVisibility(View.VISIBLE);
+                return false;
+            }
+        });
 
     }
 
@@ -91,21 +97,38 @@
 
     void getCHatList(){
         chatList = new ArrayList<>();
-//        Log.i("mob no", FirebaseAuth.getInstance().getCurrentUser().getPhoneNumber());
         DatabaseReference db = FirebaseDatabase.getInstance().getReference().child("hostel").child(Objects.requireNonNull(FirebaseAuth.getInstance().getCurrentUser().getPhoneNumber()));
-//        DatabaseReference db = FirebaseDatabase.getInstance().getReference().child("hostel").child("917339703405");
         db.addValueEventListener(new ValueEventListener() {
             @Override
             public void onDataChange(@NonNull DataSnapshot snapshot) {
                 if(snapshot.exists()){
-//                    Log.i("data snaphot exist", FirebaseAuth.getInstance().getCurrentUser().getPhoneNumber());
                     for(DataSnapshot childrens : snapshot.getChildren()){
+                        if(childrens.getKey().toString().charAt(0) == 's') continue;
                         String temp = "";
                         for(DataSnapshot chatroom : childrens.child("chatroomId").getChildren())
                             temp = chatroom.getKey();
                         final userObject obj = new userObject( temp , childrens.child("userNumber").getValue().toString());
-                    Log.i("chatroom and number ",obj.getChatroomId()+" "+obj.getUserNo());
-//                        DocumentReference db = FirebaseFirestore.getInstance().collection("Student").document(obj.getUserNo());
+                        // is the user online
+                        FirebaseDatabase.getInstance().getReference().child("user").child(obj.getUserNo()).child("status")
+                                .addValueEventListener(new ValueEventListener() {
+                            @Override
+                            public void onDataChange(@NonNull DataSnapshot snapshot) {
+                                if(snapshot.exists()){
+                                    obj.setIsOnline((Boolean) snapshot.getValue());
+                                    Log.i("rectify", obj.getIsOnline()+"");
+                                    adapter.notifyDataSetChanged();
+                                }
+                            }
+
+                            @Override
+                            public void onCancelled(@NonNull DatabaseError error) {
+
+                            }
+                        });
+
+                        //is the user online
+
+
                         FirebaseFirestore.getInstance().collection("Student").document(obj.getUserNo()).addSnapshotListener(new EventListener<DocumentSnapshot>() {
                             @Override
                             public void onEvent(@Nullable DocumentSnapshot value, @Nullable FirebaseFirestoreException error) {
@@ -114,7 +137,6 @@
                                         obj.setUserName(value.get("name").toString());
                                     if(value.get("profilePicture") != null)
                                         obj.setProfilePicture(value.get("profilePicture").toString());
-                                    Log.i("name", obj.getUserName()+" "+obj.getProfilePicture());
                                     chatList.add(obj);
                                     adapter.notifyDataSetChanged();
                                 }
Index: xinihostel/src/main/AndroidManifest.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    package=\"com.xenecompany.xinihostel\">\r\n\r\n    <uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" />\r\n    <uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" />\r\n    <uses-permission android:name=\"android.permission.INTERNET\" />\r\n    <uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" />\r\n    <uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\" />\r\n     <uses-permission android:name=\"android.permission.ACCESS_COARSE_LOCATION\"/>\r\n    <uses-permission android:name=\"com.google.android.providers.gsf.permission.READ_GSERVICES\"/>\r\n    <application\r\n        android:allowBackup=\"true\"\r\n        android:icon=\"@mipmap/ic_navigation_full_logo_xini\"\r\n        android:label=\"@string/app_name\"\r\n        android:roundIcon=\"@mipmap/ic_navigation_full_logo_xini_round\"\r\n        android:supportsRtl=\"true\"\r\n        android:theme=\"@style/AppTheme\">\r\n\r\n        <activity android:name=\".chatAll\"/>\r\n        <activity android:name=\".ChatPersonal\" android:windowSoftInputMode=\"adjustPan\"/>\r\n        <activity android:name=\".splash_screen\">\r\n            <intent-filter>\r\n                <action android:name=\"android.intent.action.MAIN\" />\r\n                <category android:name=\"android.intent.category.LAUNCHER\" />\r\n            </intent-filter>\r\n        </activity>\r\n\r\n\r\n        <meta-data\r\n            android:name=\"com.google.android.geo.API_KEY\"\r\n            android:value=\"@string/google_maps_key\" />\r\n\r\n        <activity\r\n            android:name=\".Loginpage\"\r\n            android:windowSoftInputMode=\"adjustPan\">\r\n        </activity>\r\n        <activity\r\n            android:name=\"com.theartofdev.edmodo.cropper.CropImageActivity\"\r\n            android:theme=\"@style/Base.Theme.AppCompat\" />\r\n        <activity android:name=\".otp_page\" />\r\n        <activity android:name=\".HomePage\" />\r\n        <activity\r\n            android:name=\".profile\"\r\n            android:windowSoftInputMode=\"adjustPan\">\r\n\r\n        </activity>\r\n        <activity android:name=\".studentDetails\">\r\n\r\n        </activity>\r\n        <activity android:name=\".About_Us\"/>\r\n        <activity android:name=\".contact_us\"\r\n            android:windowSoftInputMode=\"adjustPan\">\r\n        </activity>\r\n        <activity android:name=\".my_deals\"/>\r\n        <activity android:name=\".wishlist\"/>\r\n        <activity android:name=\".faq\"/>\r\n        <service\r\n            android:name=\".NotificationFireBaseMessagingService\">\r\n            <intent-filter>\r\n                <action android:name=\"com.google.firebase.MESSAGING_EVENT\"/>\r\n            </intent-filter>\r\n        </service>\r\n    </application>\r\n\r\n</manifest>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- xinihostel/src/main/AndroidManifest.xml	(revision 249281c63f10a2d157fdacc7d76276cc06e08733)
+++ xinihostel/src/main/AndroidManifest.xml	(date 1617612129211)
@@ -17,7 +17,7 @@
         android:supportsRtl="true"
         android:theme="@style/AppTheme">
 
-        <activity android:name=".chatAll"/>
+        <activity android:name=".chatAll" android:windowSoftInputMode="adjustNothing"/>
         <activity android:name=".ChatPersonal" android:windowSoftInputMode="adjustPan"/>
         <activity android:name=".splash_screen">
             <intent-filter>
Index: xiniStudent/src/main/java/com/xenecompany/xene/userObject.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- xiniStudent/src/main/java/com/xenecompany/xene/userObject.java	(date 1617654035785)
+++ xiniStudent/src/main/java/com/xenecompany/xene/userObject.java	(date 1617654035785)
@@ -0,0 +1,28 @@
+package com.xenecompany.xene;
+
+public class userObject {
+    private String chatroomId , hostelNo , profilePicture , hostelName;
+    Boolean isOnline;
+    public userObject(String chatroomId , String hostelNo){
+        this.chatroomId = chatroomId;
+        this.hostelNo = hostelNo;
+    }
+
+    public String getChatroomId() { return chatroomId; }
+
+    public String getHostelNo(){
+        return hostelNo;
+    }
+
+    public String getProfilePicture() { return profilePicture; }
+
+    public String getHostelName() { return hostelName; }
+
+    public void setIsOnline(Boolean isOnline){ this.isOnline = isOnline;}
+
+    public Boolean getIsOnline(){ return isOnline;}
+
+    public void setHostelName(String hostelName){ this.hostelName = hostelName; }
+
+    public void setProfilePicture(String profilePicture){ this.profilePicture = profilePicture; }
+}
Index: xinihostel/src/main/java/com/xenecompany/xinihostel/userObject.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.xenecompany.xinihostel;\r\n\r\npublic class userObject {\r\n    private String chatroomId , userNo, profilePicture , userName;\r\n    public userObject(String chatroomId , String userNo){\r\n        this.chatroomId = chatroomId;\r\n        this.userNo = userNo;\r\n    }\r\n\r\n    public String getChatroomId() { return chatroomId; }\r\n\r\n    public String getUserNo(){\r\n        return userNo;\r\n    }\r\n\r\n    public String getProfilePicture() { return profilePicture; }\r\n\r\n    public String getUserName() { return userName; }\r\n\r\n    public void setUserName(String userName){ this.userName = userName; }\r\n\r\n    public void setProfilePicture(String profilePicture){ this.profilePicture = profilePicture; }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- xinihostel/src/main/java/com/xenecompany/xinihostel/userObject.java	(revision 249281c63f10a2d157fdacc7d76276cc06e08733)
+++ xinihostel/src/main/java/com/xenecompany/xinihostel/userObject.java	(date 1617617626373)
@@ -2,13 +2,18 @@
 
 public class userObject {
     private String chatroomId , userNo, profilePicture , userName;
+    private Boolean isOnline;
     public userObject(String chatroomId , String userNo){
         this.chatroomId = chatroomId;
         this.userNo = userNo;
+        this.isOnline = false;
+
     }
 
     public String getChatroomId() { return chatroomId; }
 
+    public  void setIsOnline(Boolean isOnline){ this.isOnline = isOnline;}
+    public Boolean getIsOnline(){ return this.isOnline;}
     public String getUserNo(){
         return userNo;
     }
Index: xiniStudent/src/main/java/com/xenecompany/xene/chat_object.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.xenecompany.xene;\r\n\r\npublic class chat_object {\r\n    String text ,time ,sender;\r\n\r\n    public chat_object(String text ,String time ,String sender){\r\n        this.text = text;\r\n        this.sender = sender;\r\n        this.time = time;\r\n    }\r\n\r\n    String getText(){ return text;}\r\n    String getTime(){ return time;}\r\n    String getSender(){ return  sender;}\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- xiniStudent/src/main/java/com/xenecompany/xene/chat_object.java	(revision 249281c63f10a2d157fdacc7d76276cc06e08733)
+++ xiniStudent/src/main/java/com/xenecompany/xene/chat_object.java	(date 1617646616864)
@@ -2,14 +2,17 @@
 
 public class chat_object {
     String text ,time ,sender;
+    Boolean seen;
 
-    public chat_object(String text ,String time ,String sender){
+    public chat_object(String text ,String time ,String sender ,Boolean seen){
         this.text = text;
         this.sender = sender;
         this.time = time;
+        this.seen = seen;
     }
 
     String getText(){ return text;}
     String getTime(){ return time;}
     String getSender(){ return  sender;}
+    Boolean getSeen(){ return seen;}
 }
Index: xiniStudent/src/main/AndroidManifest.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    package=\"com.xenecompany.xene\">\r\n\r\n    <uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" />\r\n    <uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" />\r\n    <uses-permission android:name=\"android.permission.INTERNET\"/>\r\n    <application\r\n        android:allowBackup=\"true\"\r\n        android:icon=\"@mipmap/ic_launcher\"\r\n        android:label=\"@string/app_name\"\r\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\r\n        android:supportsRtl=\"true\"\r\n        android:theme=\"@style/AppTheme\">\r\n        <activity android:name=\".search\"/>\r\n        <activity\r\n            android:name=\"com.theartofdev.edmodo.cropper.CropImageActivity\"\r\n            android:theme=\"@style/Base.Theme.AppCompat\" />\r\n        <activity android:name=\".wishlist\" />\r\n        <activity\r\n            android:name=\".profile\"\r\n            android:windowSoftInputMode=\"adjustPan\"/>\r\n        <activity android:name=\".pgDetails\"/>\r\n        <activity android:name=\".otp_page\" />\r\n        <activity android:name=\".HomePage\">\r\n        </activity>\r\n        <activity android:name=\".chatCardView\"/>\r\n        <activity android:name=\".chatAll\" >\r\n        </activity>\r\n        <activity android:name=\".ChatPersonal\"/>\r\n\r\n        <activity android:name=\".Loginpage\"\r\n            android:windowSoftInputMode=\"adjustResize\">\r\n            <intent-filter>\r\n                <action android:name=\"android.intent.action.MAIN\" />\r\n                <category android:name=\"android.intent.category.LAUNCHER\" />\r\n            </intent-filter>\r\n        </activity>\r\n\r\n        <activity android:name=\".contact_us\"\r\n            android:windowSoftInputMode=\"adjustPan\">\r\n\r\n        </activity>\r\n        <activity android:name=\".faq\">\r\n        </activity>\r\n        <activity android:name=\".About_Us\"/>\r\n        <activity android:name=\".my_deals\"/>\r\n        <service\r\n            android:name=\".NotificationFireBaseMessagingService\">\r\n            <intent-filter>\r\n                <action android:name=\"com.google.firebase.MESSAGING_EVENT\"/>\r\n            </intent-filter>\r\n        </service>\r\n    </application>\r\n\r\n</manifest>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- xiniStudent/src/main/AndroidManifest.xml	(revision 249281c63f10a2d157fdacc7d76276cc06e08733)
+++ xiniStudent/src/main/AndroidManifest.xml	(date 1617618949312)
@@ -7,7 +7,7 @@
     <uses-permission android:name="android.permission.INTERNET"/>
     <application
         android:allowBackup="true"
-        android:icon="@mipmap/ic_launcher"
+
         android:label="@string/app_name"
         android:roundIcon="@mipmap/ic_launcher_round"
         android:supportsRtl="true"
Index: xinihostel/src/main/res/layout/activity_student_details.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:background=\"@color/colorPrimary\">\r\n\r\n\r\n    <ScrollView\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:fillViewport=\"true\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\">\r\n        <androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            >\r\n\r\n            <androidx.constraintlayout.widget.ConstraintLayout\r\n                android:id=\"@+id/image_constraint\"\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"0dp\"\r\n                android:background=\"@drawable/student_detail_background_gradient\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintHeight_default=\"percent\"\r\n                app:layout_constraintHeight_percent=\"0.33\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toTopOf=\"parent\"\r\n                app:layout_constraintWidth_default=\"percent\"\r\n                app:layout_constraintBottom_toTopOf=\"@id/detailEmail\">\r\n\r\n                <de.hdodenhof.circleimageview.CircleImageView\r\n                    android:id=\"@+id/studentDetailImage\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"0dp\"\r\n                    android:layout_marginTop=\"50dp\"\r\n                    android:contentDescription=\"TODO\"\r\n                    android:foregroundGravity=\"center\"\r\n                    android:padding=\"15dp\"\r\n                    app:layout_constraintEnd_toEndOf=\"parent\"\r\n                    app:layout_constraintHeight_default=\"percent\"\r\n                    app:layout_constraintHeight_percent=\"0.5\"\r\n                    app:layout_constraintLeft_toLeftOf=\"parent\"\r\n                    app:layout_constraintStart_toStartOf=\"parent\"\r\n                    app:layout_constraintTop_toTopOf=\"parent\"\r\n                    app:layout_constraintWidth_default=\"percent\"\r\n                    app:layout_constraintWidth_percent=\"0.4\" />\r\n\r\n                <EditText\r\n                    android:id=\"@+id/profileName\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"0dp\"\r\n                    android:layout_marginTop=\"10dp\"\r\n                    android:autoSizeTextType=\"uniform\"\r\n                    android:background=\"@null\"\r\n                    android:enabled=\"false\"\r\n                    android:gravity=\"center\"\r\n                    android:hint=\"YOUR NAME\"\r\n                    android:inputType=\"textPersonName\"\r\n                    android:textColor=\"@color/colorPrimaryDark\"\r\n                    android:textSize=\"20dp\"\r\n                    android:textStyle=\"bold\"\r\n                    app:layout_constraintEnd_toEndOf=\"parent\"\r\n                    app:layout_constraintHeight_default=\"percent\"\r\n                    app:layout_constraintHeight_percent=\".1\"\r\n                    app:layout_constraintHorizontal_bias=\"1.0\"\r\n                    app:layout_constraintStart_toStartOf=\"parent\"\r\n                    app:layout_constraintTop_toBottomOf=\"@+id/studentDetailImage\" />\r\n\r\n                <Button\r\n                    android:id=\"@+id/button_accept\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"0dp\"\r\n                    android:layout_marginStart=\"30dp\"\r\n                    android:layout_marginTop=\"10dp\"\r\n                    android:background=\"@drawable/student_detail_button_background\"\r\n                    android:text=\"ACCEPT\"\r\n                    android:textColor=\"@color/colorAccentDark\"\r\n                    android:textSize=\"15dp\"\r\n                    android:textStyle=\"bold\"\r\n                    app:layout_constraintHeight_default=\"percent\"\r\n                    app:layout_constraintHeight_percent=\"0.15\"\r\n                    app:layout_constraintStart_toStartOf=\"parent\"\r\n                    app:layout_constraintTop_toBottomOf=\"@id/profileName\"\r\n                    app:layout_constraintWidth_default=\"percent\"\r\n                    app:layout_constraintWidth_percent=\"0.3\" />\r\n\r\n                <Button\r\n                    android:id=\"@+id/button_reject\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"0dp\"\r\n                    android:layout_marginTop=\"10dp\"\r\n                    android:layout_marginEnd=\"30dp\"\r\n                    android:layout_marginBottom=\"15dp\"\r\n                    android:background=\"@drawable/student_detail_button_background\"\r\n                    android:text=\"REJECT\"\r\n                    android:textColor=\"@color/colorAccentDark\"\r\n                    android:textSize=\"15dp\"\r\n                    android:textStyle=\"bold\"\r\n                    app:layout_constraintEnd_toEndOf=\"parent\"\r\n                    app:layout_constraintHeight_default=\"percent\"\r\n                    app:layout_constraintHeight_percent=\"0.15\"\r\n                    app:layout_constraintTop_toBottomOf=\"@id/profileName\"\r\n                    app:layout_constraintWidth_default=\"percent\"\r\n                    app:layout_constraintWidth_percent=\"0.3\" />\r\n\r\n                <Button\r\n                    android:id=\"@+id/wishlist_button\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"0dp\"\r\n                    android:layout_marginTop=\"15dp\"\r\n                    android:background=\"@drawable/toolbar_heart\"\r\n                    android:src=\"@drawable/toolbar_heart\"\r\n                    app:layout_constraintEnd_toStartOf=\"@id/button_reject\"\r\n                    app:layout_constraintHeight_default=\"percent\"\r\n                    app:layout_constraintHeight_percent=\"0.12\"\r\n                    app:layout_constraintStart_toEndOf=\"@id/button_accept\"\r\n                    app:layout_constraintTop_toBottomOf=\"@id/profileName\"\r\n                    app:layout_constraintWidth_default=\"percent\"\r\n                    app:layout_constraintWidth_percent=\"0.1\" />\r\n            </androidx.constraintlayout.widget.ConstraintLayout>\r\n\r\n\r\n\r\n            <ImageView\r\n                android:id=\"@+id/studentAadharCard\"\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"0dp\"\r\n                android:layout_marginTop=\"10dp\"\r\n                android:layout_marginEnd=\"20dp\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintHeight_default=\"percent\"\r\n                app:layout_constraintHeight_percent=\"0.2\"\r\n                app:layout_constraintLeft_toLeftOf=\"parent\"\r\n                app:layout_constraintTop_toBottomOf=\"@id/detailAdharCard\"\r\n                app:layout_constraintVertical_bias=\"0.0\"\r\n                app:layout_constraintWidth_default=\"percent\"\r\n                app:layout_constraintWidth_percent=\"0.9\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/detailAdharCard\"\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"0dp\"\r\n                android:layout_marginStart=\"20dp\"\r\n                android:layout_marginTop=\"10dp\"\r\n                android:text=\"Adhar Card\"\r\n                android:drawablePadding=\"10dp\"\r\n                android:textColor=\"@color/secondary\"\r\n                android:textSize=\"20dp\"\r\n                android:textStyle=\"bold\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintHeight_default=\"percent\"\r\n                app:layout_constraintHeight_percent=\"0.025\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toBottomOf=\"@+id/detailGuardianAddress\"\r\n                app:layout_constraintWidth_default=\"percent\"\r\n                app:layout_constraintWidth_percent=\"0.95\"\r\n                />\r\n\r\n            <TextView\r\n                android:id=\"@+id/detailInstituteID\"\r\n                android:layout_width=\"365dp\"\r\n                android:layout_height=\"23dp\"\r\n                android:layout_marginTop=\"4dp\"\r\n                android:drawablePadding=\"10dp\"\r\n                android:text=\"Institute ID\"\r\n                android:textColor=\"@color/secondary\"\r\n                android:textSize=\"20dp\"\r\n                android:textStyle=\"bold\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintHeight_default=\"percent\"\r\n                app:layout_constraintHeight_percent=\"0.025\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toBottomOf=\"@id/studentAadharCard\"\r\n                app:layout_constraintWidth_default=\"percent\"\r\n                app:layout_constraintWidth_percent=\"0.9\" />\r\n\r\n            <ImageView\r\n                android:id=\"@+id/studentInstituteCard\"\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"0dp\"\r\n                android:layout_marginTop=\"10dp\"\r\n                app:layout_constraintHeight_default=\"percent\"\r\n                app:layout_constraintWidth_default=\"percent\"\r\n                app:layout_constraintHeight_percent=\"0.2\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintTop_toBottomOf=\"@id/detailInstituteID\"\r\n                app:layout_constraintLeft_toLeftOf=\"parent\"\r\n                app:layout_constraintWidth_percent=\"0.9\"\r\n                />\r\n\r\n\r\n\r\n            <TextView\r\n                android:id=\"@+id/detailEmail\"\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"0dp\"\r\n                android:layout_marginStart=\"20dp\"\r\n                android:layout_marginTop=\"20dp\"\r\n                android:drawablePadding=\"5dp\"\r\n                android:text=\"Email \"\r\n                android:drawableStart=\"@drawable/ic_envelope_grey\"\r\n                android:textColor=\"@color/secondary\"\r\n                android:textSize=\"15dp\"\r\n                android:textStyle=\"bold\"\r\n                app:layout_constraintHeight_default=\"percent\"\r\n                app:layout_constraintHeight_percent=\"0.025\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toBottomOf=\"@id/image_constraint\"\r\n                app:layout_constraintWidth_default=\"percent\"\r\n                app:layout_constraintWidth_percent=\"0.25\" />\r\n\r\n            <EditText\r\n                android:id=\"@+id/editdetailEmail\"\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"0dp\"\r\n                android:layout_marginTop=\"20dp\"\r\n                android:background=\"@null\"\r\n                android:hint=\"N/A\"\r\n                android:textSize=\"15dp\"\r\n                android:inputType=\"textEmailAddress\"\r\n                android:textAlignment=\"viewStart\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintHeight_default=\"percent\"\r\n                app:layout_constraintHeight_percent=\"0.025\"\r\n                app:layout_constraintHorizontal_bias=\"0.2\"\r\n                app:layout_constraintStart_toEndOf=\"@id/detailEmail\"\r\n                app:layout_constraintTop_toBottomOf=\"@id/image_constraint\"\r\n                app:layout_constraintWidth_default=\"percent\"\r\n                app:layout_constraintWidth_percent=\"0.65\"\r\n                android:enabled=\"false\"/>\r\n\r\n            <TextView\r\n                android:id=\"@+id/detailPhoneNumber\"\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"0dp\"\r\n                android:layout_marginStart=\"20dp\"\r\n                android:layout_marginTop=\"10dp\"\r\n                android:drawablePadding=\"5dp\"\r\n                android:text=\"Contact\"\r\n                android:drawableStart=\"@drawable/ic_profile_contact\"\r\n                android:textColor=\"@color/secondary\"\r\n                android:textSize=\"15dp\"\r\n                android:textStyle=\"bold\"\r\n                app:layout_constraintHeight_default=\"percent\"\r\n                app:layout_constraintHeight_percent=\"0.025\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toBottomOf=\"@id/detailEmail\"\r\n                app:layout_constraintWidth_default=\"percent\"\r\n                app:layout_constraintWidth_percent=\"0.25\" />\r\n\r\n            <EditText\r\n                android:id=\"@+id/editdetailPhoneNumber\"\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"0dp\"\r\n                android:layout_marginTop=\"10dp\"\r\n                android:background=\"@null\"\r\n                android:hint=\"N/A\"\r\n                android:textSize=\"15dp\"\r\n                android:inputType=\"phone\"\r\n                android:textAlignment=\"viewStart\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintHeight_default=\"percent\"\r\n                app:layout_constraintHeight_percent=\"0.025\"\r\n                app:layout_constraintHorizontal_bias=\"0.2\"\r\n                app:layout_constraintStart_toEndOf=\"@id/detailPhoneNumber\"\r\n                app:layout_constraintTop_toBottomOf=\"@id/editdetailEmail\"\r\n                app:layout_constraintWidth_default=\"percent\"\r\n                app:layout_constraintWidth_percent=\"0.65\"\r\n                android:enabled=\"false\"/>\r\n\r\n            <TextView\r\n                android:id=\"@+id/detailAdharNumber\"\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"0dp\"\r\n                android:layout_marginStart=\"20dp\"\r\n                android:layout_marginTop=\"10dp\"\r\n                android:drawablePadding=\"5dp\"\r\n                android:text=\"Adhar\"\r\n                android:drawableStart=\"@drawable/ic_profile_contact\"\r\n                android:textColor=\"@color/secondary\"\r\n                android:textSize=\"15dp\"\r\n                android:textStyle=\"bold\"\r\n                app:layout_constraintHeight_default=\"percent\"\r\n                app:layout_constraintHeight_percent=\"0.025\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toBottomOf=\"@id/detailPhoneNumber\"\r\n                app:layout_constraintWidth_default=\"percent\"\r\n                app:layout_constraintWidth_percent=\"0.25\"\r\n                android:enabled=\"false\"/>\r\n\r\n            <EditText\r\n                android:id=\"@+id/editdetailAdharNumber\"\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"0dp\"\r\n                android:layout_marginTop=\"10dp\"\r\n                android:background=\"@null\"\r\n                android:hint=\"enter adhar number\"\r\n                android:inputType=\"text\"\r\n                android:textSize=\"15dp\"\r\n                android:textAlignment=\"viewStart\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintHeight_default=\"percent\"\r\n                app:layout_constraintHeight_percent=\"0.025\"\r\n                app:layout_constraintHorizontal_bias=\"0.2\"\r\n                app:layout_constraintStart_toEndOf=\"@id/detailAdharNumber\"\r\n                app:layout_constraintTop_toBottomOf=\"@id/editdetailPhoneNumber\"\r\n                app:layout_constraintWidth_default=\"percent\"\r\n                app:layout_constraintWidth_percent=\"0.65\"\r\n                android:enabled=\"false\"/>\r\n\r\n            <TextView\r\n                android:id=\"@+id/detailnstitute\"\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"0dp\"\r\n                android:layout_marginStart=\"20dp\"\r\n                android:layout_marginTop=\"15dp\"\r\n                android:drawablePadding=\"10dp\"\r\n                android:text=\"INSTITUTE DETAILS\"\r\n                android:drawableStart=\"@drawable/ic_address\"\r\n                android:textColor=\"@color/secondary\"\r\n                android:textSize=\"20dp\"\r\n                android:textStyle=\"bold\"\r\n                app:layout_constraintHeight_default=\"percent\"\r\n                app:layout_constraintHeight_percent=\"0.025\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toBottomOf=\"@id/detailAdharNumber\"\r\n                app:layout_constraintWidth_default=\"percent\"\r\n                app:layout_constraintWidth_percent=\"0.9\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/detailInstituteName\"\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"0dp\"\r\n                android:layout_marginStart=\"20dp\"\r\n                android:layout_marginTop=\"10dp\"\r\n                android:text=\"Name\"\r\n                android:textColor=\"@color/secondary\"\r\n                android:textSize=\"15dp\"\r\n                android:textStyle=\"bold\"\r\n                app:layout_constraintHeight_default=\"percent\"\r\n                app:layout_constraintHeight_percent=\"0.025\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toBottomOf=\"@id/detailnstitute\"\r\n                app:layout_constraintWidth_default=\"percent\"\r\n                app:layout_constraintWidth_percent=\"0.25\" />\r\n\r\n            <EditText\r\n                android:id=\"@+id/editdetailInstituteName\"\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"0dp\"\r\n                android:layout_marginTop=\"10dp\"\r\n                android:background=\"@null\"\r\n                android:hint=\"N/A\"\r\n                android:inputType=\"text\"\r\n                android:textSize=\"15dp\"\r\n                android:textAlignment=\"viewStart\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintHeight_default=\"percent\"\r\n                app:layout_constraintHeight_percent=\"0.025\"\r\n                app:layout_constraintHorizontal_bias=\"0.2\"\r\n                app:layout_constraintStart_toEndOf=\"@id/detailInstituteName\"\r\n                app:layout_constraintTop_toBottomOf=\"@id/detailnstitute\"\r\n                app:layout_constraintWidth_default=\"percent\"\r\n                app:layout_constraintWidth_percent=\"0.65\"\r\n                android:enabled=\"false\"/>\r\n\r\n            <TextView\r\n                android:id=\"@+id/detailInstituteAddress\"\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"0dp\"\r\n                android:layout_marginStart=\"20dp\"\r\n                android:layout_marginTop=\"10dp\"\r\n                android:text=\"Address\"\r\n                android:textColor=\"@color/secondary\"\r\n                android:textSize=\"15dp\"\r\n                android:textStyle=\"bold\"\r\n                app:layout_constraintHeight_default=\"percent\"\r\n                app:layout_constraintHeight_percent=\"0.025\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toBottomOf=\"@id/detailInstituteName\"\r\n                app:layout_constraintWidth_default=\"percent\"\r\n                app:layout_constraintWidth_percent=\"0.25\" />\r\n\r\n            <EditText\r\n                android:id=\"@+id/editdetailInstituteAddress\"\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"0dp\"\r\n                android:layout_marginTop=\"10dp\"\r\n                android:background=\"@null\"\r\n                android:hint=\"N/A\"\r\n                android:textSize=\"15dp\"\r\n                android:inputType=\"text\"\r\n                android:textAlignment=\"viewStart\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintHeight_default=\"percent\"\r\n                app:layout_constraintHeight_percent=\"0.025\"\r\n                app:layout_constraintHorizontal_bias=\"0.2\"\r\n                app:layout_constraintStart_toEndOf=\"@id/detailInstituteAddress\"\r\n                app:layout_constraintTop_toBottomOf=\"@id/editdetailInstituteName\"\r\n                app:layout_constraintWidth_default=\"percent\"\r\n                app:layout_constraintWidth_percent=\"0.65\"\r\n                android:enabled=\"false\"/>\r\n\r\n            <TextView\r\n                android:id=\"@+id/detailInstituteIDNumber\"\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"0dp\"\r\n                android:layout_marginStart=\"20dp\"\r\n                android:layout_marginTop=\"10dp\"\r\n                android:text=\"ID No.\"\r\n                android:textColor=\"@color/secondary\"\r\n                android:textSize=\"15dp\"\r\n                android:textStyle=\"bold\"\r\n                app:layout_constraintHeight_default=\"percent\"\r\n                app:layout_constraintHeight_percent=\"0.025\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toBottomOf=\"@id/detailInstituteAddress\"\r\n                app:layout_constraintWidth_default=\"percent\"\r\n                app:layout_constraintWidth_percent=\"0.25\" />\r\n\r\n            <EditText\r\n                android:id=\"@+id/editdetailInstituteIDNumber\"\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"0dp\"\r\n                android:layout_marginTop=\"10dp\"\r\n                android:background=\"@null\"\r\n                android:hint=\"N/A\"\r\n                android:textSize=\"15dp\"\r\n                android:inputType=\"text\"\r\n                android:textAlignment=\"viewStart\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintHeight_default=\"percent\"\r\n                app:layout_constraintHeight_percent=\"0.025\"\r\n                app:layout_constraintHorizontal_bias=\"0.2\"\r\n                app:layout_constraintStart_toEndOf=\"@id/detailInstituteIDNumber\"\r\n                app:layout_constraintTop_toBottomOf=\"@id/editdetailInstituteAddress\"\r\n                app:layout_constraintWidth_default=\"percent\"\r\n                app:layout_constraintWidth_percent=\"0.65\"\r\n                android:enabled=\"false\"/>\r\n\r\n            <TextView\r\n                android:id=\"@+id/detailGuardians\"\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"0dp\"\r\n                android:layout_marginStart=\"20dp\"\r\n                android:layout_marginTop=\"15dp\"\r\n                android:drawablePadding=\"10dp\"\r\n                android:text=\"GUARDIAN DETAILS\"\r\n                android:drawableStart=\"@drawable/ic_profile_person\"\r\n                android:textColor=\"@color/secondary\"\r\n                android:textSize=\"20dp\"\r\n                android:textStyle=\"bold\"\r\n                app:layout_constraintHeight_default=\"percent\"\r\n                app:layout_constraintHeight_percent=\"0.025\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toBottomOf=\"@id/detailInstituteIDNumber\"\r\n                app:layout_constraintWidth_default=\"percent\"\r\n                app:layout_constraintWidth_percent=\"0.9\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/detailGuardianName\"\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"0dp\"\r\n                android:layout_marginStart=\"20dp\"\r\n                android:layout_marginTop=\"10dp\"\r\n                android:text=\"Name\"\r\n                android:textColor=\"@color/secondary\"\r\n                android:textSize=\"15dp\"\r\n                android:textStyle=\"bold\"\r\n                app:layout_constraintHeight_default=\"percent\"\r\n                app:layout_constraintHeight_percent=\"0.025\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toBottomOf=\"@id/detailGuardians\"\r\n                app:layout_constraintWidth_default=\"percent\"\r\n                app:layout_constraintWidth_percent=\"0.25\" />\r\n\r\n            <EditText\r\n                android:id=\"@+id/editdetailGuardianName\"\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"0dp\"\r\n                android:layout_marginTop=\"10dp\"\r\n                android:background=\"@null\"\r\n                android:hint=\"N/A\"\r\n                android:textSize=\"15dp\"\r\n                android:inputType=\"text\"\r\n                android:textAlignment=\"viewStart\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintHeight_default=\"percent\"\r\n                app:layout_constraintHeight_percent=\"0.025\"\r\n                app:layout_constraintHorizontal_bias=\"0.2\"\r\n                app:layout_constraintStart_toEndOf=\"@id/detailGuardianName\"\r\n                app:layout_constraintTop_toBottomOf=\"@id/detailGuardians\"\r\n                app:layout_constraintWidth_default=\"percent\"\r\n                app:layout_constraintWidth_percent=\"0.65\"\r\n                android:enabled=\"false\"/>\r\n\r\n            <TextView\r\n                android:id=\"@+id/detailGuardianContact\"\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"0dp\"\r\n                android:layout_marginStart=\"20dp\"\r\n                android:layout_marginTop=\"10dp\"\r\n                android:text=\"Contact\"\r\n                android:textColor=\"@color/secondary\"\r\n                android:textSize=\"15dp\"\r\n                android:textStyle=\"bold\"\r\n                app:layout_constraintHeight_default=\"percent\"\r\n                app:layout_constraintHeight_percent=\"0.025\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toBottomOf=\"@id/detailGuardianName\"\r\n                app:layout_constraintWidth_default=\"percent\"\r\n                app:layout_constraintWidth_percent=\"0.25\" />\r\n\r\n            <EditText\r\n                android:id=\"@+id/editdetailGuardianContact\"\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"0dp\"\r\n                android:layout_marginTop=\"10dp\"\r\n                android:background=\"@null\"\r\n                android:hint=\"N/A\"\r\n                android:textSize=\"15dp\"\r\n                android:inputType=\"text\"\r\n                android:textAlignment=\"viewStart\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintHeight_default=\"percent\"\r\n                app:layout_constraintHeight_percent=\"0.025\"\r\n                app:layout_constraintHorizontal_bias=\"0.2\"\r\n                app:layout_constraintStart_toEndOf=\"@id/detailGuardianContact\"\r\n                app:layout_constraintTop_toBottomOf=\"@id/detailGuardianName\"\r\n                app:layout_constraintWidth_default=\"percent\"\r\n                app:layout_constraintWidth_percent=\"0.65\"\r\n                android:enabled=\"false\"/>\r\n\r\n            <TextView\r\n                android:id=\"@+id/detailGuardianAddress\"\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"0dp\"\r\n                android:layout_marginStart=\"20dp\"\r\n                android:layout_marginTop=\"10dp\"\r\n                android:text=\"Address\"\r\n                android:textColor=\"@color/secondary\"\r\n                android:textSize=\"15dp\"\r\n                android:textStyle=\"bold\"\r\n                app:layout_constraintHeight_default=\"percent\"\r\n                app:layout_constraintHeight_percent=\"0.025\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toBottomOf=\"@id/detailGuardianContact\"\r\n                app:layout_constraintWidth_default=\"percent\"\r\n                app:layout_constraintWidth_percent=\"0.25\" />\r\n\r\n            <EditText\r\n                android:id=\"@+id/editdetailGuardianAddress\"\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"0dp\"\r\n                android:layout_marginTop=\"10dp\"\r\n                android:background=\"@null\"\r\n                android:hint=\"N/A\"\r\n                android:textSize=\"15dp\"\r\n                android:inputType=\"text\"\r\n                android:textAlignment=\"viewStart\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintHeight_default=\"percent\"\r\n                app:layout_constraintHeight_percent=\"0.025\"\r\n                app:layout_constraintHorizontal_bias=\"0.2\"\r\n                app:layout_constraintStart_toEndOf=\"@id/detailGuardianAddress\"\r\n                app:layout_constraintTop_toBottomOf=\"@id/editdetailGuardianContact\"\r\n                app:layout_constraintWidth_default=\"percent\"\r\n                app:layout_constraintWidth_percent=\"0.65\"\r\n                android:enabled=\"false\"/>\r\n\r\n\r\n\r\n        </androidx.constraintlayout.widget.ConstraintLayout>\r\n    </ScrollView>\r\n\r\n\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- xinihostel/src/main/res/layout/activity_student_details.xml	(revision 249281c63f10a2d157fdacc7d76276cc06e08733)
+++ xinihostel/src/main/res/layout/activity_student_details.xml	(date 1617612792777)
@@ -579,5 +579,18 @@
     </ScrollView>
 
 
-
+    <com.google.android.material.floatingactionbutton.FloatingActionButton
+        android:id="@+id/layoutPgPictures_startchat"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        app:layout_constraintEnd_toEndOf="parent"
+        app:layout_constraintBottom_toBottomOf="parent"
+        android:layout_marginRight="15dp"
+        android:visibility="gone"
+        android:layout_marginBottom="70dp"
+        android:backgroundTint="#ededed"
+        android:elevation="2dp"
+        android:src="@drawable/messageicon"
+        app:fabSize="mini"
+        />
 </androidx.constraintlayout.widget.ConstraintLayout>
\ No newline at end of file
diff --git .idea/shelf/Uncommitted_changes_before_Update_at_30-03-2021_05_45_PM__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_30-03-2021_05_45_PM__Default_Changelist_.xml
diff --git .idea/shelf/Uncommitted_changes_before_Update_at_04-04-2021_12_59_PM__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_04-04-2021_12_59_PM__Default_Changelist_.xml
